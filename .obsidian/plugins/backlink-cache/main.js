/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  const OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "obsidian",
    "@codemirror/autocomplete",
    "@codemirror/collab",
    "@codemirror/commands",
    "@codemirror/language",
    "@codemirror/lint",
    "@codemirror/search",
    "@codemirror/state",
    "@codemirror/text",
    "@codemirror/view",
    "@lezer/common",
    "@lezer/lr",
    "@lezer/highlight"
  ];
  const DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "@codemirror/closebrackets",
    "@codemirror/comment",
    "@codemirror/fold",
    "@codemirror/gutter",
    "@codemirror/highlight",
    "@codemirror/history",
    "@codemirror/matchbrackets",
    "@codemirror/panel",
    "@codemirror/rangeset",
    "@codemirror/rectangular-selection",
    "@codemirror/stream-parser",
    "@codemirror/tooltip"
  ];
  function requirePatched(id) {
    if (OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id) || DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id)) {
      return originalRequire?.(id);
    }
    if (globalThis?.app?.isMobile) {
      if (id === "process" || id === "node:process") {
        console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Fake process object is returned instead.`);
        return globalThis.process;
      }
    } else {
      const module2 = originalRequire?.(id);
      if (module2) {
        return extractDefault(module2);
      }
    }
    console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var pu=Object.create;var Vt=Object.defineProperty;var hu=Object.getOwnPropertyDescriptor;var mu=Object.getOwnPropertyNames;var gu=Object.getPrototypeOf,yu=Object.prototype.hasOwnProperty;var i=(e,t)=>Vt(e,"name",{value:t,configurable:!0});var Te=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),So=(e,t)=>{for(var n in t)Vt(e,n,{get:t[n],enumerable:!0})},To=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of mu(t))!yu.call(e,o)&&o!==n&&Vt(e,o,{get:()=>t[o],enumerable:!(r=hu(t,o))||r.enumerable});return e};var gt=(e,t,n)=>(n=e!=null?pu(gu(e)):{},To(t||!e||!e.__esModule?Vt(n,"default",{value:e,enumerable:!0}):n,e)),bu=e=>To(Vt({},"__esModule",{value:!0}),e);var Lo=Te((qp,Io)=>{var yt=1e3,bt=yt*60,wt=bt*60,rt=wt*24,ku=rt*7,xu=rt*365.25;Io.exports=function(e,t){t=t||{};var n=typeof e;if(n==="string"&&e.length>0)return Au(e);if(n==="number"&&isFinite(e))return t.long?vu(e):Cu(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function Au(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]),r=(t[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*xu;case"weeks":case"week":case"w":return n*ku;case"days":case"day":case"d":return n*rt;case"hours":case"hour":case"hrs":case"hr":case"h":return n*wt;case"minutes":case"minute":case"mins":case"min":case"m":return n*bt;case"seconds":case"second":case"secs":case"sec":case"s":return n*yt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}i(Au,"parse");function Cu(e){var t=Math.abs(e);return t>=rt?Math.round(e/rt)+"d":t>=wt?Math.round(e/wt)+"h":t>=bt?Math.round(e/bt)+"m":t>=yt?Math.round(e/yt)+"s":e+"ms"}i(Cu,"fmtShort");function vu(e){var t=Math.abs(e);return t>=rt?mn(e,t,rt,"day"):t>=wt?mn(e,t,wt,"hour"):t>=bt?mn(e,t,bt,"minute"):t>=yt?mn(e,t,yt,"second"):e+" ms"}i(vu,"fmtLong");function mn(e,t,n,r){var o=t>=n*1.5;return Math.round(e/n)+" "+r+(o?"s":"")}i(mn,"plural")});var _r=Te((Jp,Oo)=>{function Eu(e){n.debug=n,n.default=n,n.coerce=u,n.disable=a,n.enable=o,n.enabled=l,n.humanize=Lo(),n.destroy=c,Object.keys(e).forEach(f=>{n[f]=e[f]}),n.names=[],n.skips=[],n.formatters={};function t(f){let d=0;for(let p=0;p<f.length;p++)d=(d<<5)-d+f.charCodeAt(p),d|=0;return n.colors[Math.abs(d)%n.colors.length]}i(t,"selectColor"),n.selectColor=t;function n(f){let d,p=null,h,y;function C(...x){if(!C.enabled)return;let b=C,k=Number(new Date),v=k-(d||k);b.diff=v,b.prev=d,b.curr=k,d=k,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let S=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(w,B)=>{if(w==="%%")return"%";S++;let W=n.formatters[B];if(typeof W=="function"){let R=x[S];w=W.call(b,R),x.splice(S,1),S--}return w}),n.formatArgs.call(b,x),(b.log||n.log).apply(b,x)}return i(C,"debug"),C.namespace=f,C.useColors=n.useColors(),C.color=n.selectColor(f),C.extend=r,C.destroy=n.destroy,Object.defineProperty(C,"enabled",{enumerable:!0,configurable:!1,get:i(()=>p!==null?p:(h!==n.namespaces&&(h=n.namespaces,y=n.enabled(f)),y),"get"),set:i(x=>{p=x},"set")}),typeof n.init=="function"&&n.init(C),C}i(n,"createDebug");function r(f,d){let p=n(this.namespace+(typeof d>"u"?":":d)+f);return p.log=this.log,p}i(r,"extend");function o(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let d=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let p of d)p[0]==="-"?n.skips.push(p.slice(1)):n.names.push(p)}i(o,"enable");function s(f,d){let p=0,h=0,y=-1,C=0;for(;p<f.length;)if(h<d.length&&(d[h]===f[p]||d[h]==="*"))d[h]==="*"?(y=h,C=p,h++):(p++,h++);else if(y!==-1)h=y+1,C++,p=C;else return!1;for(;h<d.length&&d[h]==="*";)h++;return h===d.length}i(s,"matchesTemplate");function a(){let f=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),f}i(a,"disable");function l(f){for(let d of n.skips)if(s(f,d))return!1;for(let d of n.names)if(s(f,d))return!0;return!1}i(l,"enabled");function u(f){return f instanceof Error?f.stack||f.message:f}i(u,"coerce");function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i(c,"destroy"),n.enable(n.load()),n}i(Eu,"setup");Oo.exports=Eu});var Ro=Te((ce,gn)=>{ce.formatArgs=Tu;ce.save=Fu;ce.load=Pu;ce.useColors=Su;ce.storage=Iu();ce.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ce.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Su(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}i(Su,"useColors");function Tu(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+gn.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let n=0,r=0;e[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(r=n))}),e.splice(r,0,t)}i(Tu,"formatArgs");ce.log=console.debug||console.log||(()=>{});function Fu(e){try{e?ce.storage.setItem("debug",e):ce.storage.removeItem("debug")}catch{}}i(Fu,"save");function Pu(){let e;try{e=ce.storage.getItem("debug")||ce.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}i(Pu,"load");function Iu(){try{return localStorage}catch{}}i(Iu,"localstorage");gn.exports=_r()(ce);var{formatters:Lu}=gn.exports;Lu.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var Do=Te((Xp,No)=>{"use strict";No.exports=(e,t=process.argv)=>{let n=e.startsWith("-")?"":e.length===1?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return r!==-1&&(o===-1||r<o)}});var _o=Te((Zp,Bo)=>{"use strict";var Ou=require("os"),Mo=require("tty"),be=Do(),{env:G}=process,yn;be("no-color")||be("no-colors")||be("color=false")||be("color=never")?yn=0:(be("color")||be("colors")||be("color=true")||be("color=always"))&&(yn=1);function Ru(){if("FORCE_COLOR"in G)return G.FORCE_COLOR==="true"?1:G.FORCE_COLOR==="false"?0:G.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(G.FORCE_COLOR,10),3)}i(Ru,"envForceColor");function Nu(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}i(Nu,"translateLevel");function Du(e,{streamIsTTY:t,sniffFlags:n=!0}={}){let r=Ru();r!==void 0&&(yn=r);let o=n?yn:r;if(o===0)return 0;if(n){if(be("color=16m")||be("color=full")||be("color=truecolor"))return 3;if(be("color=256"))return 2}if(e&&!t&&o===void 0)return 0;let s=o||0;if(G.TERM==="dumb")return s;if(process.platform==="win32"){let a=Ou.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in G)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(a=>a in G)||G.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in G)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(G.TEAMCITY_VERSION)?1:0;if(G.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in G){let a=Number.parseInt((G.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(G.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(G.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(G.TERM)||"COLORTERM"in G?1:s}i(Du,"supportsColor");function zr(e,t={}){let n=Du(e,{streamIsTTY:e&&e.isTTY,...t});return Nu(n)}i(zr,"getSupportLevel");Bo.exports={supportsColor:zr,stdout:zr({isTTY:Mo.isatty(1)}),stderr:zr({isTTY:Mo.isatty(2)})}});var $o=Te((J,wn)=>{var Mu=require("tty"),bn=require("util");J.init=Uu;J.log=$u;J.formatArgs=_u;J.save=Vu;J.load=Wu;J.useColors=Bu;J.destroy=bn.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");J.colors=[6,2,3,4,5,1];try{let e=_o();e&&(e.stderr||e).level>=2&&(J.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}J.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(o,s)=>s.toUpperCase()),r=process.env[t];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),e[n]=r,e},{});function Bu(){return"colors"in J.inspectOpts?!!J.inspectOpts.colors:Mu.isatty(process.stderr.fd)}i(Bu,"useColors");function _u(e){let{namespace:t,useColors:n}=this;if(n){let r=this.color,o="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${o};1m${t} \x1B[0m`;e[0]=s+e[0].split(`
`).join(`
`+s),e.push(o+"m+"+wn.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=zu()+t+" "+e[0]}i(_u,"formatArgs");function zu(){return J.inspectOpts.hideDate?"":new Date().toISOString()+" "}i(zu,"getDate");function $u(...e){return process.stderr.write(bn.formatWithOptions(J.inspectOpts,...e)+`
`)}i($u,"log");function Vu(e){e?process.env.DEBUG=e:delete process.env.DEBUG}i(Vu,"save");function Wu(){return process.env.DEBUG}i(Wu,"load");function Uu(e){e.inspectOpts={};let t=Object.keys(J.inspectOpts);for(let n=0;n<t.length;n++)e.inspectOpts[t[n]]=J.inspectOpts[t[n]]}i(Uu,"init");wn.exports=_r()(J);var{formatters:zo}=wn.exports;zo.o=function(e){return this.inspectOpts.colors=this.useColors,bn.inspect(e,this.inspectOpts).split(`
`).map(t=>t.trim()).join(" ")};zo.O=function(e){return this.inspectOpts.colors=this.useColors,bn.inspect(e,this.inspectOpts)}});var Vo=Te((nh,$r)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?$r.exports=Ro():$r.exports=$o()});var cs=Te((Xh,us)=>{"use strict";function Re(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}i(Re,"assertPath");function ls(e,t){for(var n="",r=0,o=-1,s=0,a,l=0;l<=e.length;++l){if(l<e.length)a=e.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(o===l-1||s===1))if(o!==l-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){u===-1?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),o=l,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,o=l,s=0;continue}}t&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+e.slice(o+1,l):n=e.slice(o+1,l),r=l-o-1;o=l,s=0}else a===46&&s!==-1?++s:s=-1}return n}i(ls,"normalizeStringPosix");function gc(e,t){var n=t.dir||t.root,r=t.base||(t.name||"")+(t.ext||"");return n?n===t.root?n+r:n+e+r:r}i(gc,"_format");var vt={resolve:i(function(){for(var t="",n=!1,r,o=arguments.length-1;o>=-1&&!n;o--){var s;o>=0?s=arguments[o]:(r===void 0&&(r=process.cwd()),s=r),Re(s),s.length!==0&&(t=s+"/"+t,n=s.charCodeAt(0)===47)}return t=ls(t,!n),n?t.length>0?"/"+t:"/":t.length>0?t:"."},"resolve"),normalize:i(function(t){if(Re(t),t.length===0)return".";var n=t.charCodeAt(0)===47,r=t.charCodeAt(t.length-1)===47;return t=ls(t,!n),t.length===0&&!n&&(t="."),t.length>0&&r&&(t+="/"),n?"/"+t:t},"normalize"),isAbsolute:i(function(t){return Re(t),t.length>0&&t.charCodeAt(0)===47},"isAbsolute"),join:i(function(){if(arguments.length===0)return".";for(var t,n=0;n<arguments.length;++n){var r=arguments[n];Re(r),r.length>0&&(t===void 0?t=r:t+="/"+r)}return t===void 0?".":vt.normalize(t)},"join"),relative:i(function(t,n){if(Re(t),Re(n),t===n||(t=vt.resolve(t),n=vt.resolve(n),t===n))return"";for(var r=1;r<t.length&&t.charCodeAt(r)===47;++r);for(var o=t.length,s=o-r,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var l=n.length,u=l-a,c=s<u?s:u,f=-1,d=0;d<=c;++d){if(d===c){if(u>c){if(n.charCodeAt(a+d)===47)return n.slice(a+d+1);if(d===0)return n.slice(a+d)}else s>c&&(t.charCodeAt(r+d)===47?f=d:d===0&&(f=0));break}var p=t.charCodeAt(r+d),h=n.charCodeAt(a+d);if(p!==h)break;p===47&&(f=d)}var y="";for(d=r+f+1;d<=o;++d)(d===o||t.charCodeAt(d)===47)&&(y.length===0?y+="..":y+="/..");return y.length>0?y+n.slice(a+f):(a+=f,n.charCodeAt(a)===47&&++a,n.slice(a))},"relative"),_makeLong:i(function(t){return t},"_makeLong"),dirname:i(function(t){if(Re(t),t.length===0)return".";for(var n=t.charCodeAt(0),r=n===47,o=-1,s=!0,a=t.length-1;a>=1;--a)if(n=t.charCodeAt(a),n===47){if(!s){o=a;break}}else s=!1;return o===-1?r?"/":".":r&&o===1?"//":t.slice(0,o)},"dirname"),basename:i(function(t,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');Re(t);var r=0,o=-1,s=!0,a;if(n!==void 0&&n.length>0&&n.length<=t.length){if(n.length===t.length&&n===t)return"";var l=n.length-1,u=-1;for(a=t.length-1;a>=0;--a){var c=t.charCodeAt(a);if(c===47){if(!s){r=a+1;break}}else u===-1&&(s=!1,u=a+1),l>=0&&(c===n.charCodeAt(l)?--l===-1&&(o=a):(l=-1,o=u))}return r===o?o=u:o===-1&&(o=t.length),t.slice(r,o)}else{for(a=t.length-1;a>=0;--a)if(t.charCodeAt(a)===47){if(!s){r=a+1;break}}else o===-1&&(s=!1,o=a+1);return o===-1?"":t.slice(r,o)}},"basename"),extname:i(function(t){Re(t);for(var n=-1,r=0,o=-1,s=!0,a=0,l=t.length-1;l>=0;--l){var u=t.charCodeAt(l);if(u===47){if(!s){r=l+1;break}continue}o===-1&&(s=!1,o=l+1),u===46?n===-1?n=l:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||o===-1||a===0||a===1&&n===o-1&&n===r+1?"":t.slice(n,o)},"extname"),format:i(function(t){if(t===null||typeof t!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof t);return gc("/",t)},"format"),parse:i(function(t){Re(t);var n={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return n;var r=t.charCodeAt(0),o=r===47,s;o?(n.root="/",s=1):s=0;for(var a=-1,l=0,u=-1,c=!0,f=t.length-1,d=0;f>=s;--f){if(r=t.charCodeAt(f),r===47){if(!c){l=f+1;break}continue}u===-1&&(c=!1,u=f+1),r===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||u===-1||d===0||d===1&&a===u-1&&a===l+1?u!==-1&&(l===0&&o?n.base=n.name=t.slice(1,u):n.base=n.name=t.slice(l,u)):(l===0&&o?(n.name=t.slice(1,a),n.base=t.slice(1,u)):(n.name=t.slice(l,a),n.base=t.slice(l,u)),n.ext=t.slice(a,u)),l>0?n.dir=t.slice(0,l-1):o&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};vt.posix=vt;us.exports=vt});var Ba=Te((cx,Ma)=>{"use strict";var Zn=Object.prototype.hasOwnProperty,Da=Object.prototype.toString,Pa=Object.defineProperty,Ia=Object.getOwnPropertyDescriptor,La=i(function(t){return typeof Array.isArray=="function"?Array.isArray(t):Da.call(t)==="[object Array]"},"isArray"),Oa=i(function(t){if(!t||Da.call(t)!=="[object Object]")return!1;var n=Zn.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Zn.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var o;for(o in t);return typeof o>"u"||Zn.call(t,o)},"isPlainObject"),Ra=i(function(t,n){Pa&&n.name==="__proto__"?Pa(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},"setProperty"),Na=i(function(t,n){if(n==="__proto__")if(Zn.call(t,n)){if(Ia)return Ia(t,n).value}else return;return t[n]},"getProperty");Ma.exports=i(function e(){var t,n,r,o,s,a,l=arguments[0],u=1,c=arguments.length,f=!1;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<c;++u)if(t=arguments[u],t!=null)for(n in t)r=Na(l,n),o=Na(t,n),l!==o&&(f&&o&&(Oa(o)||(s=La(o)))?(s?(s=!1,a=r&&La(r)?r:[]):a=r&&Oa(r)?r:{},Ra(l,{name:n,newValue:e(f,a,o)})):typeof o<"u"&&Ra(l,{name:n,newValue:o}));return l},"extend")});var Pl=Te((hr,Fl)=>{(function(e,t){typeof hr=="object"&&typeof Fl<"u"?t(hr):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.compareVersions={}))})(hr,(function(e){"use strict";let t=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=i(x=>{if(typeof x!="string")throw new TypeError("Invalid argument expected string");let b=x.match(t);if(!b)throw new Error(`Invalid argument not valid semver ('${x}' received)`);return b.shift(),b},"validateAndParse"),r=i(x=>x==="*"||x==="x"||x==="X","isWildcard"),o=i(x=>{let b=parseInt(x,10);return isNaN(b)?x:b},"tryParse"),s=i((x,b)=>typeof x!=typeof b?[String(x),String(b)]:[x,b],"forceType"),a=i((x,b)=>{if(r(x)||r(b))return 0;let[k,v]=s(o(x),o(b));return k>v?1:k<v?-1:0},"compareStrings"),l=i((x,b)=>{for(let k=0;k<Math.max(x.length,b.length);k++){let v=a(x[k]||"0",b[k]||"0");if(v!==0)return v}return 0},"compareSegments"),u=i((x,b)=>{let k=n(x),v=n(b),S=k.pop(),P=v.pop(),w=l(k,v);return w!==0?w:S&&P?l(S.split("."),P.split(".")):S||P?S?-1:1:0},"compareVersions"),c=i((x,b,k)=>{p(k);let v=u(x,b);return f[k].includes(v)},"compare"),f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},d=Object.keys(f),p=i(x=>{if(typeof x!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof x}`);if(d.indexOf(x)===-1)throw new Error(`Invalid operator, expected one of ${d.join("|")}`)},"assertValidOperator"),h=i((x,b)=>{if(b=b.replace(/([><=]+)\s+/g,"$1"),b.includes("||"))return b.split("||").some(_=>h(x,_));if(b.includes(" - ")){let[_,U]=b.split(" - ",2);return h(x,`>=${_} <=${U}`)}else if(b.includes(" "))return b.trim().replace(/\s{2,}/g," ").split(" ").every(_=>h(x,_));let k=b.match(/^([<>=~^]+)/),v=k?k[1]:"=";if(v!=="^"&&v!=="~")return c(x,b,v);let[S,P,w,,B]=n(x),[W,R,z,,Q]=n(b),V=[S,P,w],T=[W,R??"x",z??"x"];if(Q&&(!B||l(V,T)!==0||l(B.split("."),Q.split("."))===-1))return!1;let I=T.findIndex(_=>_!=="0")+1,L=v==="~"?2:I>1?I:1;return!(l(V.slice(0,L),T.slice(0,L))!==0||l(V.slice(L),T.slice(L))===-1)},"satisfies"),y=i(x=>typeof x=="string"&&/^[v\d]/.test(x)&&t.test(x),"validate"),C=i(x=>typeof x=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(x),"validateStrict");e.compare=c,e.compareVersions=u,e.satisfies=h,e.validate=y,e.validateStrict=C}))});var $p={};So($p,{default:()=>zp});module.exports=bu($p);var pt=require("obsidian");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function Fe(){}i(Fe,"noop");async function Pe(){}i(Pe,"noopAsync");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var wu=Number.POSITIVE_INFINITY;function hn(...e){let t=e.filter(s=>!!s);if(typeof AbortSignal.any=="function")return AbortSignal.any(t);if(t.length===0)return Ue();if(t.length===1&&t[0])return t[0];let n=new AbortController;for(let s of t)if(s.aborted)return s;let r=[];for(let s of t)r.push(Po(s,o));return n.signal;function o(s){for(let a of r)a();n.abort(s.reason)}}i(hn,"abortSignalAny");function Ue(){return new AbortController().signal}i(Ue,"abortSignalNever");function Fo(e){if(e===wu)return Ue();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(e);let t=new AbortController;return window.setTimeout(()=>{t.abort(new Error(`Timed out in ${String(e)} milliseconds`))},e),t.signal}i(Fo,"abortSignalTimeout");function Po(e,t){if(e.aborted)return t(e),Fe;return e.addEventListener("abort",n,{once:!0}),()=>{e.removeEventListener("abort",n)};function n(r){t(r.target)}i(n,"wrappedCallback")}i(Po,"onAbort");function Br(e,t){return new Promise((n,r)=>{Po(e,()=>{t?r(e.reason):n(e.reason)})})}i(Br,"waitForAbort");var qr=gt(Vo(),1);i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function Vr(e,t){let n=e.length,r=0;for(let o=0;o<n;o++){if(!Object.hasOwn(e,o))continue;let s=e[o];t(s,o,e)&&(e[r++]=s)}e.length=r}i(Vr,"filterInPlace");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Ie=class{static{i(this,"AsyncEvents")}eventRefsMap=new Map;off(t,n){let r=this.eventRefsMap.get(t);r&&(Vr(r,o=>o.callback!==n),r.length===0&&this.eventRefsMap.delete(t))}offref(t){let n=this.eventRefsMap.get(t.name);n&&(Vr(n,r=>r!==t),n.length===0&&this.eventRefsMap.delete(t.name))}on(t,n,r){let o=this.eventRefsMap.get(t);o||(o=[],this.eventRefsMap.set(t,o));let s={asyncEvents:this,callback:n,name:t,thisArg:r};return o.push(s),s}once(t,n,r){let o=this.on(t,n,r),s=this.on(t,()=>{this.offref(o),this.offref(s)});return o}trigger(t,...n){let r=this.eventRefsMap.get(t)??[];for(let o of r.slice())this.tryTrigger(o,n)}async triggerAsync(t,...n){let r=this.eventRefsMap.get(t)??[];for(let o of r.slice())await this.tryTriggerAsync(o,n)}tryTrigger(t,n){try{t.callback.apply(t.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(t,n){try{await t.callback.call(t.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Wr="asyncError",kn=new Ie;kn.on(Wr,ju);var xn="An unhandled error occurred executing async operation",Uo="    at",Ce=class e extends Error{static{i(this,"CustomStackTraceError")}constructor(t,n,r){super(t,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,e);let o=r,s=new Set;for(;o instanceof e;){if(s.has(o))throw new Error("Circular cause detected");s.add(o),o=o.cause}let a=(this.stack??"").split(`
`),l=n.split(`
`);/^\w*Error(?:: |$)/.test(l[0]??"")&&l.splice(0,1),a.splice(1,a.length-1,...l),this.stack=a.join(`
`)}},kt=class e extends Error{static{i(this,"SilentError")}constructor(t){super(t),this.name="SilentError",Error.captureStackTrace?.(this,e)}};function An(e){kn.trigger(Wr,e)}i(An,"emitAsyncErrorEvent");function Ur(e){if(!(e instanceof Error))return String(e);let t=e.stack??`${e.name}: ${e.message}`;if(e.cause!==void 0){let n=Ur(e.cause).split(`
`);t+=`
${Wo("Caused by:")}`;for(let r of n)r.trim()&&(t+=r.startsWith(Uo)?`
${r}`:`
${Wo(r)}`)}return t}i(Ur,"errorToString");function Le(e=0){return(new Error().stack??"").split(`
`).slice(e+2).join(`
`)}i(Le,"getStackTrace");function Cn(e,t){t??=globalThis.console,t.error(Ur(e))}i(Cn,"printError");function jo(e){let t=kn.on(Wr,e);return()=>{kn.offref(t)}}i(jo,"registerAsyncErrorEventHandler");function Wt(e){throw e}i(Wt,"throwExpression");function Wo(e){return`${Uo} --- ${e} --- (0)`}i(Wo,"generateStackTraceLine");function ju(e){Cn(e)}i(ju,"handleAsyncError");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var jr="46.17.1",vn="obsidian-dev-utils",Ho=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utilsprogress.loop {
  min-width: 200px;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.plugin-settings-tab a:focus {
  outline: 2px solid var(--link-color);
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/loop.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/plugin-settings-tab.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;ACjDJ;EACE;;;ACAA;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&progress.loop%20%7B%5Cn%20%20%20%20min-width:%20200px;%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.plugin-settings-tab%20%7B%5Cn%20%20%20%20a:focus%20%7B%5Cn%20%20%20%20%20%20outline:%202px%20solid%20var(--link-color);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Hr=class{static{i(this,"ValueWrapper")}constructor(t){this.value=t}};function Hu(){let e=globalThis.app;if(e)return e;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}i(Hu,"getApp");function Ke(e,t,n){let o=e??Ku()??globalThis;return o.obsidianDevUtilsState??={},o.obsidianDevUtilsState[t]??=new Hr(n)}i(Ke,"getObsidianDevUtilsState");function Ku(){return typeof window>"u"?null:Hu()}i(Ku,"getAppOrNull");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Kr="__no-plugin-id-initialized__",Ko=Kr;function En(){return Ko}i(En,"getPluginId");function qo(e){e&&(Ko=e)}i(qo,"setPluginId");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Go=",",Sn="-";function Jo(){return{disable:qu,enable:Gu,get:Tn,set:Ut}}i(Jo,"getDebugController");function xt(e,t=0){let n=`${e}:${String(t)}`,r=Ke(null,"debuggers",new Map).value,o=r.get(n);return o||(o=Ht()(e),o.log=(s,...a)=>{Ju(e,t,s,...a)},r.set(n,o)),o}i(xt,"getDebugger");function ve(e){let t=En(),n=t===Kr?"":`${t}:`;return xt(`${n}${vn}:${e}`)}i(ve,"getLibDebugger");function jt(e,t,n,...r){if(!Qo()){e(n,...r);return}e(n,...r,`

---
Context stack trace:
`,Xo(t))}i(jt,"printWithStackTrace");function Yo(e){let t=Ht().enabled(e),n=t?"enabled":"disabled",r=t?"disable":"enable",o=Tn();Ut(e),xt(e)(`Debug messages for plugin ${e} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),Ut(o)}i(Yo,"showInitialDebugMessage");function qu(e){let t=new Set(Tn());for(let n of Kt(e)){if(n.startsWith(Sn))continue;let r=Sn+n;t.has(n)&&t.delete(n),t.add(r)}Ut(Array.from(t))}i(qu,"disableNamespaces");function Gu(e){let t=new Set(Tn());for(let n of Kt(e)){if(!n.startsWith(Sn)){let r=Sn+n;t.has(r)&&t.delete(r)}t.add(n)}Ut(Array.from(t))}i(Gu,"enableNamespaces");function Tn(){return Kt(Ht().load()??"")}i(Tn,"getNamespaces");function Ht(){return typeof window>"u"?qr.default:Ke(null,"debug",qr.default).value}i(Ht,"getSharedDebugLibInstance");function Qo(){return typeof window<"u"}i(Qo,"isInObsidian");function Ju(e,t,n,...r){if(!Ht().enabled(e))return;if(!Qo()){console.debug(n,...r);return}let o=4,s=new Error().stack?.split(`
`)??[];s.splice(0,o+t),console.debug(n,...r,`

---
Logger stack trace:
`,Xo(s.join(`
`)))}i(Ju,"logWithCaller");function Xo(e){return new Ce("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",e,void 0)}i(Xo,"makeStackTraceError");function Ut(e){Ht().enable(Kt(e).join(Go))}i(Ut,"setNamespaces");function Kt(e){return typeof e=="string"?e.split(Go).filter(Boolean):e.flatMap(Kt)}i(Kt,"toArray");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Yu={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var Qu={};for(let[e,t]of Object.entries(Yu))Qu[t]=e;function es(e){return Oe(e,/\u00A0|\u202F/g," ").normalize("NFC")}i(es,"normalize");function Oe(e,t,n){return typeof n>"u"?e:(t instanceof RegExp&&!t.global&&(t=new RegExp(t.source,`${t.flags}g`)),typeof n=="string"?e.replaceAll(t,n):e.replaceAll(t,(r,...o)=>{let a=typeof o.at(-1)=="object",l=a?o.length-2:o.length-1,u={groups:a?o.at(-1):void 0,missingGroupIndices:[],offset:o.at(l-1),source:o.at(l),substring:r},c=o.slice(0,l-1).map((f,d)=>{if(typeof f=="string")return f;if(typeof f>"u")return u.missingGroupIndices.push(d),"";throw new Error(`Unexpected argument type: ${typeof f}`)});return n(u,...c)??u.substring}))}i(Oe,"replaceAll");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Xu=".",Zu=[{constructor:ArrayBuffer,equalityComparer:ec},{constructor:Date,equalityComparer:tc},{constructor:RegExp,equalityComparer:rc},{constructor:Map,equalityComparer:nc},{constructor:Set,equalityComparer:ic}];function Ee(e,t){if(e===t)return!0;if(typeof e!="object"||typeof t!="object"||e===null||t===null)return!1;let n=e.constructor,r=t.constructor;if(n!==r)return!1;if(n!==Object){let u=oc(e,t);if(u!==void 0)return u}let o=At(e),s=At(t);if(o.length!==s.length)return!1;let a=e,l=t;for(let u of o)if(!s.includes(u)||!Ee(a[u],l[u]))return!1;return!0}i(Ee,"deepEqual");function At(e){let t=[],n=e;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[o,s]of Object.entries(r)){if(o==="__proto__"||typeof s.value=="function")continue;let a=typeof s.get=="function",l=typeof s.set=="function";if(a||l){a&&l&&t.push(o);continue}s.enumerable&&s.writable&&t.push(o)}n=Object.getPrototypeOf(n)}return t.sort()}i(At,"getAllKeys");function Gr(e,t){let n=e,r=t.split(Xu);for(let o of r){if(n===void 0)return;n=n[o]}return n}i(Gr,"getNestedPropertyValue");function qt(e){return e==null?e:Object.getPrototypeOf(e)}i(qt,"getPrototypeOf");function ec(e,t){if(e.byteLength!==t.byteLength)return!1;let n=new Uint8Array(e),r=new Uint8Array(t);return Ee(n,r)}i(ec,"deepEqualArrayBuffer");function tc(e,t){return e.getTime()===t.getTime()}i(tc,"deepEqualDate");function nc(e,t){if(e.size!==t.size)return!1;for(let[n,r]of e.entries())if(!t.has(n)||!Ee(r,t.get(n)))return!1;return!0}i(nc,"deepEqualMap");function rc(e,t){return e.source===t.source&&e.flags===t.flags}i(rc,"deepEqualRegExp");function ic(e,t){if(e.size!==t.size)return!1;for(let n of e){if(t.has(n))continue;let r=!1;for(let o of t)if(Ee(n,o)){r=!0;break}if(!r)return!1}return!0}i(ic,"deepEqualSet");function oc(e,t){for(let{constructor:n,equalityComparer:r}of Zu)if(e instanceof n&&t instanceof n)return r(e,t)}i(oc,"deepEqualTyped");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();async function ac(e,t){t??=Le(1);try{await e()}catch(n){let r=new Ce(xn,t,n);if(lc(r))return;An(r)}}i(ac,"addErrorHandler");function Fn(e,t){return t??=Le(1),(...n)=>{let r=Le(1);t=`${t??""}
    at --- convertAsyncToSync --- (0)
${r}`,q(()=>e(...n),t)}}i(Fn,"convertAsyncToSync");function lc(e){let t=e;for(;!(t instanceof kt);){if(!(t instanceof Error))return!1;t=t.cause}return ve("Async:handleSilentError")(e),!0}i(lc,"handleSilentError");function q(e,t){t??=Le(1),ac(e,t)}i(q,"invokeAsyncSafely");function ts(e,t=0,n,r){r??=Ue(),r.throwIfAborted(),n??=Le(1),q(async()=>{await Jr(t,r,!0),await e(r)},n)}i(ts,"invokeAsyncSafelyAfterDelay");var uc=new WeakSet;async function ns(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}i(ns,"requestAnimationFrameAsync");async function rs(e){let t=ve("Async:retryWithTimeout"),n=e.stackTrace??Le(1),o={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e.retryOptions};o.abortSignal?.throwIfAborted(),await is({context:{operationName:e.operationName??"",retryFn:e.operationFn},onTimeout:e.onTimeout,async operationFn(s){let a=hn(o.abortSignal,s);a.throwIfAborted();let l=0;for(;!a.aborted;){l++;let u;try{u=await e.operationFn(a)}catch(c){if(a.aborted||!o.shouldRetryOnError||uc.has(c))throw new Ce("retryWithTimeout failed",n,c);Cn(c),u=!1}if(u){jt(t,n,`Retry completed successfully after ${String(l)} attempts`,{operationFn:e.operationFn,operationName:e.operationName??""});return}jt(t,n,`Retry attempt ${String(l)} completed unsuccessfully. Trying again in ${String(o.retryDelayInMilliseconds)} milliseconds`,{operationFn:e.operationFn,operationName:e.operationName??""}),await Jr(o.retryDelayInMilliseconds,s)}},operationName:e.operationName??"",stackTrace:n,timeoutInMilliseconds:o.timeoutInMilliseconds})}i(rs,"retryWithTimeout");async function is(e){let t=e.stackTrace??Le(1),n=performance.now(),r=new AbortController,o=new AbortController,s=null,a=!1,l=!1,u=ve("Async:runWithTimeout"),c=e.onTimeout??p;if(await Promise.race([f(),d()]),a)return s;throw new Ce("Run with timeout failed",t,r.signal.reason);async function f(){try{s=await e.operationFn(r.signal);let h=Math.trunc(performance.now()-n);jt(u,t,`Execution time: ${String(h)} milliseconds`,{context:e.context,operationFn:e.operationFn,operationName:e.operationName??""}),a=!0}catch(h){r.abort(h)}finally{l=!0,o.abort(new Error("Completed"))}}async function d(){if(await Jr(e.timeoutInMilliseconds,o.signal),l)return;let h=Math.trunc(performance.now()-n);jt(u,t,`Timed out after ${String(h)} milliseconds`,{context:e.context,operationFn:e.operationFn,operationName:e.operationName??""});let y={duration:h,onOperationCompleted(C){o.signal.addEventListener("abort",C)},operationName:e.operationName??"",terminateOperation(){let C=new Error(`Timed out after ${String(h)} milliseconds`);r.abort(C),o.abort(C)}};c(y),await Br(o.signal)}function p(h){h.terminateOperation()}}i(is,"runWithTimeout");async function Jr(e,t,n){await Br(hn(t,Fo(e))),n&&t?.throwIfAborted()}i(Jr,"sleep");var je=require("obsidian");var cc=require("obsidian"),os=require("obsidian"),ss=require("obsidian"),qh=require("obsidian"),Gh=require("obsidian"),pc=require("obsidian"),hc=require("obsidian"),mc=require("obsidian");var Pn=class{static{i(this,"CustomArrayDictImpl")}data=new Map;add(e,t){let n=this.get(e);n||(n=[],this.data.set(e,n)),n.includes(t)||n.push(t)}remove(e,t){let n=this.get(e);n&&(n.remove(t),n.length===0&&this.clear(e))}get(e){return this.data.get(e)||null}keys(){return Array.from(this.data.keys())}clear(e){this.data.delete(e)}clearAll(){this.data.clear()}contains(e,t){return!!this.get(e)?.contains(t)}count(){let e=0;for(let t of this.keys())e+=this.get(t)?.length??0;return e}};var fe={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},Ct={AllProperties:"all-properties",Audio:"audio",Backlink:fe.Backlink,Bases:fe.Bases,Bookmarks:fe.Bookmarks,Canvas:fe.Canvas,Empty:"empty",FileExplorer:fe.FileExplorer,FileProperties:"file-properties",Graph:fe.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:fe.OutgoingLink,Outline:fe.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function fc(){return os.TFile}i(fc,"getTFileConstructor");function dc(){return ss.TFolder}i(dc,"getTFolderConstructor");function it(e){return e.replace(/\/?[^\/]*$/,"")||"/"}i(it,"parentFolderPath");function In(e,t){let n=e.vault.getFolderByPath(t);return n||(n=new(dc())(e.vault,t),n.parent=In(e,it(t)),n.deleted=!0,n)}i(In,"createTFolderInstance");function as(e,t){let n=e.vault.getFileByPath(t);return n||(n=new(fc())(e.vault,t),n.parent=In(e,it(t)),n.deleted=!0,n)}i(as,"createTFileInstance");function Se(e){return!!e.position}i(Se,"isReferenceCache");function de(e){return!!e.key}i(de,"isFrontmatterLinkCache");var Yr=gt(cs(),1);i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var yc=/[a-zA-Z]:\/[^:]*$/,Ne=Yr.default.posix,nm=Ne.delimiter,rm=Yr.default.posix.sep,fs=Ne.basename,Qr=Ne.dirname,Ln=Ne.extname,im=Ne.format;var Xr=Ne.join,om=Ne.normalize,sm=Ne.parse,bc=Ne.relative;function ds(...e){let t=Ne.resolve(...e);return t=wc(t),yc.exec(t)?.[0]??t}i(ds,"resolve");function wc(e){return Oe(e,"\\","/")}i(wc,"toPosixPath");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var xc="canvas",hs="md";function ms(e,t,n){if(Et(t))return t.extension===n;if(typeof t=="string"){let r=De(e,t);return r?r.extension===n:Ln(t).slice(1)===n}return!1}i(ms,"checkExtension");function On(e,t,n){if(t===null)return null;if(ys(t))return e.vault.fileMap[t.path]??t;let r=ps(e,t,n);if(r)return r;let o=bs(t);return o===t?null:ps(e,o,n)}i(On,"getAbstractFileOrNull");function ot(e,t,n,r){let o=De(e,t,r);if(!o)if(n)o=as(e,t);else throw new Error(`File not found: ${t}`);return o}i(ot,"getFile");function De(e,t,n){let r=On(e,t,n);return Et(r)?r:null}i(De,"getFileOrNull");function Rn(e,t,n,r){let o=gs(e,t,r);if(!o)if(n)o=In(e,t);else throw new Error(`Folder not found: ${t}`);return o}i(Rn,"getFolder");function gs(e,t,n){let r=On(e,t,n);return Ac(r)?r:null}i(gs,"getFolderOrNull");function Me(e,t){if(ys(t))return t.path;let n=On(e,t);return n?n.path:bs(t)}i(Me,"getPath");function ys(e){return e instanceof je.TAbstractFile}i(ys,"isAbstractFile");function ae(e,t){return ms(e,t,xc)}i(ae,"isCanvasFile");function Et(e){return e instanceof je.TFile}i(Et,"isFile");function Ac(e){return e instanceof je.TFolder}i(Ac,"isFolder");function Zr(e,t){return ms(e,t,hs)}i(Zr,"isMarkdownFile");function ps(e,t,n){return n??=e.vault.adapter.insensitive,n?e.vault.getAbstractFileByPathInsensitive(t):e.vault.getAbstractFileByPath(t)}i(ps,"getFileInternal");function bs(e){return(0,je.normalizePath)(ds("/",e))}i(bs,"getResolvedPath");var pr=require("obsidian");var Cc={};function st(e,t){let n=t||Cc,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return ks(e,r,o)}i(st,"toString");function ks(e,t,n){if(vc(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return ws(e.children,t,n)}return Array.isArray(e)?ws(e,t,n):""}i(ks,"one");function ws(e,t,n){let r=[],o=-1;for(;++o<e.length;)r[o]=ks(e[o],t,n);return r.join("")}i(ws,"all");function vc(e){return!!(e&&typeof e=="object")}i(vc,"node");var xs=document.createElement("i");function St(e){let t="&"+e+";";xs.innerHTML=t;let n=xs.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}i(St,"decodeNamedCharacterReference");function te(e,t,n,r){let o=e.length,s=0,a;if(t<0?t=-t>o?0:o+t:t=t>o?o:t,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(t,n),e.splice(...a);else for(n&&e.splice(t,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}i(te,"splice");function le(e,t){return e.length>0?(te(e,e.length,0,t),e):t}i(le,"push");var As={}.hasOwnProperty;function Cs(e){let t={},n=-1;for(;++n<e.length;)Ec(t,e[n]);return t}i(Cs,"combineExtensions");function Ec(e,t){let n;for(n in t){let o=(As.call(e,n)?e[n]:void 0)||(e[n]={}),s=t[n],a;if(s)for(a in s){As.call(o,a)||(o[a]=[]);let l=s[a];Sc(o[a],Array.isArray(l)?l:l?[l]:[])}}}i(Ec,"syntaxExtension");function Sc(e,t){let n=-1,r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);te(e,0,0,r)}i(Sc,"constructs");function Nn(e,t){let n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}i(Nn,"decodeNumericCharacterReference");function He(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}i(He,"normalizeIdentifier");var me=qe(/[A-Za-z]/),ue=qe(/[\dA-Za-z]/),vs=qe(/[#-'*+\--9=?A-Z^-~]/);function Gt(e){return e!==null&&(e<32||e===127)}i(Gt,"asciiControl");var Jt=qe(/\d/),Es=qe(/[\dA-Fa-f]/),Ss=qe(/[!-/:-@[-`{-~]/);function F(e){return e!==null&&e<-2}i(F,"markdownLineEnding");function K(e){return e!==null&&(e<0||e===32)}i(K,"markdownLineEndingOrSpace");function N(e){return e===-2||e===-1||e===32}i(N,"markdownSpace");var Ts=qe(/\p{P}|\p{S}/u),Fs=qe(/\s/);function qe(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}i(qe,"regexCheck");function M(e,t,n,r){let o=r?r-1:Number.POSITIVE_INFINITY,s=0;return a;function a(u){return N(u)?(e.enter(n),l(u)):t(u)}function l(u){return N(u)&&s++<o?(e.consume(u),l):(e.exit(n),t(u))}}i(M,"factorySpace");var Ps={tokenize:Tc};function Tc(e){let t=e.attempt(this.parser.constructs.contentInitial,r,o),n;return t;function r(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),M(e,t,"linePrefix")}function o(l){return e.enter("paragraph"),s(l)}function s(l){let u=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return F(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),a)}}i(Tc,"initializeContent");var Ls={tokenize:Fc},Is={tokenize:Pc};function Fc(e){let t=this,n=[],r=0,o,s,a;return l;function l(v){if(r<n.length){let S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,u,c)(v)}return c(v)}function u(v){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,o&&k();let S=t.events.length,P=S,w;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){w=t.events[P][1].end;break}b(r);let B=S;for(;B<t.events.length;)t.events[B][1].end={...w},B++;return te(t.events,P+1,0,t.events.slice(S)),t.events.length=B,c(v)}return l(v)}function c(v){if(r===n.length){if(!o)return p(v);if(o.currentConstruct&&o.currentConstruct.concrete)return y(v);t.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Is,f,d)(v)}function f(v){return o&&k(),b(r),p(v)}function d(v){return t.parser.lazy[t.now().line]=r!==n.length,a=t.now().offset,y(v)}function p(v){return t.containerState={},e.attempt(Is,h,y)(v)}function h(v){return r++,n.push([t.currentConstruct,t.containerState]),p(v)}function y(v){if(v===null){o&&k(),b(0),e.consume(v);return}return o=o||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:s}),C(v)}function C(v){if(v===null){x(e.exit("chunkFlow"),!0),b(0),e.consume(v);return}return F(v)?(e.consume(v),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,l):(e.consume(v),C)}function x(v,S){let P=t.sliceStream(v);if(S&&P.push(null),v.previous=s,s&&(s.next=v),s=v,o.defineSkip(v.start),o.write(P),t.parser.lazy[v.start.line]){let w=o.events.length;for(;w--;)if(o.events[w][1].start.offset<a&&(!o.events[w][1].end||o.events[w][1].end.offset>a))return;let B=t.events.length,W=B,R,z;for(;W--;)if(t.events[W][0]==="exit"&&t.events[W][1].type==="chunkFlow"){if(R){z=t.events[W][1].end;break}R=!0}for(b(r),w=B;w<t.events.length;)t.events[w][1].end={...z},w++;te(t.events,W+1,0,t.events.slice(B)),t.events.length=w}}function b(v){let S=n.length;for(;S-- >v;){let P=n[S];t.containerState=P[1],P[0].exit.call(t,e)}n.length=v}function k(){o.write([null]),s=void 0,o=void 0,t.containerState._closeFlow=void 0}}i(Fc,"initializeDocument");function Pc(e,t,n){return M(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}i(Pc,"tokenizeContainer");function Tt(e){if(e===null||K(e)||Fs(e))return 1;if(Ts(e))return 2}i(Tt,"classifyCharacter");function Ft(e,t,n){let r=[],o=-1;for(;++o<e.length;){let s=e[o].resolveAll;s&&!r.includes(s)&&(t=s(t,n),r.push(s))}return t}i(Ft,"resolveAll");var Yt={name:"attention",resolveAll:Ic,tokenize:Lc};function Ic(e,t){let n=-1,r,o,s,a,l,u,c,f;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;u=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;let d={...e[r][1].end},p={...e[n][1].start};Os(d,-u),Os(p,u),a={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...e[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},s={type:u>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},o={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[r][1].end={...a.start},e[n][1].start={...l.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=le(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=le(c,[["enter",o,t],["enter",a,t],["exit",a,t],["enter",s,t]]),c=le(c,Ft(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=le(c,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",o,t]]),e[n][1].end.offset-e[n][1].start.offset?(f=2,c=le(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):f=0,te(e,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}i(Ic,"resolveAllAttention");function Lc(e,t){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,o=Tt(r),s;return a;function a(u){return s=u,e.enter("attentionSequence"),l(u)}function l(u){if(u===s)return e.consume(u),l;let c=e.exit("attentionSequence"),f=Tt(u),d=!f||f===2&&o||n.includes(u),p=!o||o===2&&f||n.includes(r);return c._open=!!(s===42?d:d&&(o||!p)),c._close=!!(s===42?p:p&&(f||!d)),t(u)}}i(Lc,"tokenizeAttention");function Os(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}i(Os,"movePoint");var ei={name:"autolink",tokenize:Oc};function Oc(e,t,n){let r=0;return o;function o(h){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(h){return me(h)?(e.consume(h),a):h===64?n(h):c(h)}function a(h){return h===43||h===45||h===46||ue(h)?(r=1,l(h)):c(h)}function l(h){return h===58?(e.consume(h),r=0,u):(h===43||h===45||h===46||ue(h))&&r++<32?(e.consume(h),l):(r=0,c(h))}function u(h){return h===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):h===null||h===32||h===60||Gt(h)?n(h):(e.consume(h),u)}function c(h){return h===64?(e.consume(h),f):vs(h)?(e.consume(h),c):n(h)}function f(h){return ue(h)?d(h):n(h)}function d(h){return h===46?(e.consume(h),r=0,f):h===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(h),e.exit("autolinkMarker"),e.exit("autolink"),t):p(h)}function p(h){if((h===45||ue(h))&&r++<63){let y=h===45?p:d;return e.consume(h),y}return n(h)}}i(Oc,"tokenizeAutolink");var Ge={partial:!0,tokenize:Rc};function Rc(e,t,n){return r;function r(s){return N(s)?M(e,o,"linePrefix")(s):o(s)}function o(s){return s===null||F(s)?t(s):n(s)}}i(Rc,"tokenizeBlankLine");var Dn={continuation:{tokenize:Dc},exit:Mc,name:"blockQuote",tokenize:Nc};function Nc(e,t,n){let r=this;return o;function o(a){if(a===62){let l=r.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return n(a)}function s(a){return N(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}i(Nc,"tokenizeBlockQuoteStart");function Dc(e,t,n){let r=this;return o;function o(a){return N(a)?M(e,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(Dn,t,n)(a)}}i(Dc,"tokenizeBlockQuoteContinuation");function Mc(e){e.exit("blockQuote")}i(Mc,"exit");var Mn={name:"characterEscape",tokenize:Bc};function Bc(e,t,n){return r;function r(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),o}function o(s){return Ss(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(s)}}i(Bc,"tokenizeCharacterEscape");var Bn={name:"characterReference",tokenize:_c};function _c(e,t,n){let r=this,o=0,s,a;return l;function l(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),u}function u(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),s=31,a=ue,f(d))}function c(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=Es,f):(e.enter("characterReferenceValue"),s=7,a=Jt,f(d))}function f(d){if(d===59&&o){let p=e.exit("characterReferenceValue");return a===ue&&!St(r.sliceSerialize(p))?n(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(d)&&o++<s?(e.consume(d),f):n(d)}}i(_c,"tokenizeCharacterReference");var Rs={partial:!0,tokenize:$c},_n={concrete:!0,name:"codeFenced",tokenize:zc};function zc(e,t,n){let r=this,o={partial:!0,tokenize:P},s=0,a=0,l;return u;function u(w){return c(w)}function c(w){let B=r.events[r.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,l=w,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(w)}function f(w){return w===l?(a++,e.consume(w),f):a<3?n(w):(e.exit("codeFencedFenceSequence"),N(w)?M(e,d,"whitespace")(w):d(w))}function d(w){return w===null||F(w)?(e.exit("codeFencedFence"),r.interrupt?t(w):e.check(Rs,C,S)(w)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(w))}function p(w){return w===null||F(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(w)):N(w)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),M(e,h,"whitespace")(w)):w===96&&w===l?n(w):(e.consume(w),p)}function h(w){return w===null||F(w)?d(w):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(w))}function y(w){return w===null||F(w)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(w)):w===96&&w===l?n(w):(e.consume(w),y)}function C(w){return e.attempt(o,S,x)(w)}function x(w){return e.enter("lineEnding"),e.consume(w),e.exit("lineEnding"),b}function b(w){return s>0&&N(w)?M(e,k,"linePrefix",s+1)(w):k(w)}function k(w){return w===null||F(w)?e.check(Rs,C,S)(w):(e.enter("codeFlowValue"),v(w))}function v(w){return w===null||F(w)?(e.exit("codeFlowValue"),k(w)):(e.consume(w),v)}function S(w){return e.exit("codeFenced"),t(w)}function P(w,B,W){let R=0;return z;function z(L){return w.enter("lineEnding"),w.consume(L),w.exit("lineEnding"),Q}function Q(L){return w.enter("codeFencedFence"),N(L)?M(w,V,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(L):V(L)}function V(L){return L===l?(w.enter("codeFencedFenceSequence"),T(L)):W(L)}function T(L){return L===l?(R++,w.consume(L),T):R>=a?(w.exit("codeFencedFenceSequence"),N(L)?M(w,I,"whitespace")(L):I(L)):W(L)}function I(L){return L===null||F(L)?(w.exit("codeFencedFence"),B(L)):W(L)}}}i(zc,"tokenizeCodeFenced");function $c(e,t,n){let r=this;return o;function o(a){return a===null?n(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}i($c,"tokenizeNonLazyContinuation");var Qt={name:"codeIndented",tokenize:Wc},Vc={partial:!0,tokenize:Uc};function Wc(e,t,n){let r=this;return o;function o(c){return e.enter("codeIndented"),M(e,s,"linePrefix",5)(c)}function s(c){let f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?u(c):F(c)?e.attempt(Vc,a,u)(c):(e.enter("codeFlowValue"),l(c))}function l(c){return c===null||F(c)?(e.exit("codeFlowValue"),a(c)):(e.consume(c),l)}function u(c){return e.exit("codeIndented"),t(c)}}i(Wc,"tokenizeCodeIndented");function Uc(e,t,n){let r=this;return o;function o(a){return r.parser.lazy[r.now().line]?n(a):F(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),o):M(e,s,"linePrefix",5)(a)}function s(a){let l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):F(a)?o(a):n(a)}}i(Uc,"tokenizeFurtherStart");var ti={name:"codeText",previous:Hc,resolve:jc,tokenize:Kc};function jc(e){let t=e.length-4,n=3,r,o;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)o===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(o=r):(r===t||e[r][1].type==="lineEnding")&&(e[o][1].type="codeTextData",r!==o+2&&(e[o][1].end=e[r-1][1].end,e.splice(o+2,r-o-2),t-=r-o-2,r=o+2),o=void 0);return e}i(jc,"resolveCodeText");function Hc(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}i(Hc,"previous");function Kc(e,t,n){let r=this,o=0,s,a;return l;function l(p){return e.enter("codeText"),e.enter("codeTextSequence"),u(p)}function u(p){return p===96?(e.consume(p),o++,u):(e.exit("codeTextSequence"),c(p))}function c(p){return p===null?n(p):p===32?(e.enter("space"),e.consume(p),e.exit("space"),c):p===96?(a=e.enter("codeTextSequence"),s=0,d(p)):F(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),c):(e.enter("codeTextData"),f(p))}function f(p){return p===null||p===32||p===96||F(p)?(e.exit("codeTextData"),c(p)):(e.consume(p),f)}function d(p){return p===96?(e.consume(p),s++,d):s===o?(e.exit("codeTextSequence"),e.exit("codeText"),t(p)):(a.type="codeTextData",f(p))}}i(Kc,"tokenizeCodeText");var zn=class{static{i(this,"SpliceBuffer")}constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){let o=n||0;this.setCursor(Math.trunc(t));let s=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return r&&Xt(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Xt(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Xt(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){let n=this.left.splice(t,Number.POSITIVE_INFINITY);Xt(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Xt(this.left,n.reverse())}}};function Xt(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}i(Xt,"chunkedPush");function $n(e){let t={},n=-1,r,o,s,a,l,u,c,f=new zn(e);for(;++n<f.length;){for(;n in t;)n=t[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,qc(f,n)),n=t[n],c=!0);else if(r[1]._container){for(s=n,o=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(o&&(f.get(o)[1].type="lineEndingBlank"),a[1].type="lineEnding",o=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;o&&(r[1].end={...f.get(o)[1].start},l=f.slice(o,n),l.unshift(r),f.splice(o,n-o+1,l))}}return te(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}i($n,"subtokenize");function qc(e,t){let n=e.get(t)[1],r=e.get(t)[2],o=t-1,s=[],a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));let l=a.events,u=[],c={},f,d,p=-1,h=n,y=0,C=0,x=[C];for(;h;){for(;e.get(++o)[1]!==h;);s.push(o),h._tokenizer||(f=r.sliceStream(h),h.next||f.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++p<l.length;)l[p][0]==="exit"&&l[p-1][0]==="enter"&&l[p][1].type===l[p-1][1].type&&l[p][1].start.line!==l[p][1].end.line&&(C=p+1,x.push(C),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):x.pop(),p=x.length;p--;){let b=l.slice(x[p],x[p+1]),k=s.pop();u.push([k,k+b.length-1]),e.splice(k,2,b)}for(u.reverse(),p=-1;++p<u.length;)c[y+u[p][0]]=y+u[p][1],y+=u[p][1]-u[p][0]-1;return c}i(qc,"subcontent");var ni={resolve:Jc,tokenize:Yc},Gc={partial:!0,tokenize:Qc};function Jc(e){return $n(e),e}i(Jc,"resolveContent");function Yc(e,t){let n;return r;function r(l){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),o(l)}function o(l){return l===null?s(l):F(l)?e.check(Gc,a,s)(l):(e.consume(l),o)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}i(Yc,"tokenizeContent");function Qc(e,t,n){let r=this;return o;function o(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),M(e,s,"linePrefix")}function s(a){if(a===null||F(a))return n(a);let l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(r.parser.constructs.flow,n,t)(a)}}i(Qc,"tokenizeContinuation");function Vn(e,t,n,r,o,s,a,l,u){let c=u||Number.POSITIVE_INFINITY,f=0;return d;function d(b){return b===60?(e.enter(r),e.enter(o),e.enter(s),e.consume(b),e.exit(s),p):b===null||b===32||b===41||Gt(b)?n(b):(e.enter(r),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),C(b))}function p(b){return b===62?(e.enter(s),e.consume(b),e.exit(s),e.exit(o),e.exit(r),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),h(b))}function h(b){return b===62?(e.exit("chunkString"),e.exit(l),p(b)):b===null||b===60||F(b)?n(b):(e.consume(b),b===92?y:h)}function y(b){return b===60||b===62||b===92?(e.consume(b),h):h(b)}function C(b){return!f&&(b===null||b===41||K(b))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(r),t(b)):f<c&&b===40?(e.consume(b),f++,C):b===41?(e.consume(b),f--,C):b===null||b===32||b===40||Gt(b)?n(b):(e.consume(b),b===92?x:C)}function x(b){return b===40||b===41||b===92?(e.consume(b),C):C(b)}}i(Vn,"factoryDestination");function Wn(e,t,n,r,o,s){let a=this,l=0,u;return c;function c(h){return e.enter(r),e.enter(o),e.consume(h),e.exit(o),e.enter(s),f}function f(h){return l>999||h===null||h===91||h===93&&!u||h===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(h):h===93?(e.exit(s),e.enter(o),e.consume(h),e.exit(o),e.exit(r),t):F(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===null||h===91||h===93||F(h)||l++>999?(e.exit("chunkString"),f(h)):(e.consume(h),u||(u=!N(h)),h===92?p:d)}function p(h){return h===91||h===92||h===93?(e.consume(h),l++,d):d(h)}}i(Wn,"factoryLabel");function Un(e,t,n,r,o,s){let a;return l;function l(p){return p===34||p===39||p===40?(e.enter(r),e.enter(o),e.consume(p),e.exit(o),a=p===40?41:p,u):n(p)}function u(p){return p===a?(e.enter(o),e.consume(p),e.exit(o),e.exit(r),t):(e.enter(s),c(p))}function c(p){return p===a?(e.exit(s),u(a)):p===null?n(p):F(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),M(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===a||p===null||F(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?d:f)}function d(p){return p===a||p===92?(e.consume(p),f):f(p)}}i(Un,"factoryTitle");function at(e,t){let n;return r;function r(o){return F(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),n=!0,r):N(o)?M(e,r,n?"linePrefix":"lineSuffix")(o):t(o)}}i(at,"factoryWhitespace");var ri={name:"definition",tokenize:Zc},Xc={partial:!0,tokenize:ef};function Zc(e,t,n){let r=this,o;return s;function s(h){return e.enter("definition"),a(h)}function a(h){return Wn.call(r,e,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(h)}function l(h){return o=He(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),u):n(h)}function u(h){return K(h)?at(e,c)(h):c(h)}function c(h){return Vn(e,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(h)}function f(h){return e.attempt(Xc,d,d)(h)}function d(h){return N(h)?M(e,p,"whitespace")(h):p(h)}function p(h){return h===null||F(h)?(e.exit("definition"),r.parser.defined.push(o),t(h)):n(h)}}i(Zc,"tokenizeDefinition");function ef(e,t,n){return r;function r(l){return K(l)?at(e,o)(l):n(l)}function o(l){return Un(e,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return N(l)?M(e,a,"whitespace")(l):a(l)}function a(l){return l===null||F(l)?t(l):n(l)}}i(ef,"tokenizeTitleBefore");var ii={name:"hardBreakEscape",tokenize:tf};function tf(e,t,n){return r;function r(s){return e.enter("hardBreakEscape"),e.consume(s),o}function o(s){return F(s)?(e.exit("hardBreakEscape"),t(s)):n(s)}}i(tf,"tokenizeHardBreakEscape");var oi={name:"headingAtx",resolve:nf,tokenize:rf};function nf(e,t){let n=e.length-2,r=3,o,s;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(o={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},s={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},te(e,r,n-r+1,[["enter",o,t],["enter",s,t],["exit",s,t],["exit",o,t]])),e}i(nf,"resolveHeadingAtx");function rf(e,t,n){let r=0;return o;function o(f){return e.enter("atxHeading"),s(f)}function s(f){return e.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(e.consume(f),a):f===null||K(f)?(e.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(e.enter("atxHeadingSequence"),u(f)):f===null||F(f)?(e.exit("atxHeading"),t(f)):N(f)?M(e,l,"whitespace")(f):(e.enter("atxHeadingText"),c(f))}function u(f){return f===35?(e.consume(f),u):(e.exit("atxHeadingSequence"),l(f))}function c(f){return f===null||f===35||K(f)?(e.exit("atxHeadingText"),l(f)):(e.consume(f),c)}}i(rf,"tokenizeHeadingAtx");var Ns=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],si=["pre","script","style","textarea"];var ai={concrete:!0,name:"htmlFlow",resolveTo:af,tokenize:lf},of={partial:!0,tokenize:cf},sf={partial:!0,tokenize:uf};function af(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}i(af,"resolveToHtmlFlow");function lf(e,t,n){let r=this,o,s,a,l,u;return c;function c(g){return f(g)}function f(g){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(g),d}function d(g){return g===33?(e.consume(g),p):g===47?(e.consume(g),s=!0,C):g===63?(e.consume(g),o=3,r.interrupt?t:m):me(g)?(e.consume(g),a=String.fromCharCode(g),x):n(g)}function p(g){return g===45?(e.consume(g),o=2,h):g===91?(e.consume(g),o=5,l=0,y):me(g)?(e.consume(g),o=4,r.interrupt?t:m):n(g)}function h(g){return g===45?(e.consume(g),r.interrupt?t:m):n(g)}function y(g){let ne="CDATA[";return g===ne.charCodeAt(l++)?(e.consume(g),l===ne.length?r.interrupt?t:V:y):n(g)}function C(g){return me(g)?(e.consume(g),a=String.fromCharCode(g),x):n(g)}function x(g){if(g===null||g===47||g===62||K(g)){let ne=g===47,et=a.toLowerCase();return!ne&&!s&&si.includes(et)?(o=1,r.interrupt?t(g):V(g)):Ns.includes(a.toLowerCase())?(o=6,ne?(e.consume(g),b):r.interrupt?t(g):V(g)):(o=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):s?k(g):v(g))}return g===45||ue(g)?(e.consume(g),a+=String.fromCharCode(g),x):n(g)}function b(g){return g===62?(e.consume(g),r.interrupt?t:V):n(g)}function k(g){return N(g)?(e.consume(g),k):z(g)}function v(g){return g===47?(e.consume(g),z):g===58||g===95||me(g)?(e.consume(g),S):N(g)?(e.consume(g),v):z(g)}function S(g){return g===45||g===46||g===58||g===95||ue(g)?(e.consume(g),S):P(g)}function P(g){return g===61?(e.consume(g),w):N(g)?(e.consume(g),P):v(g)}function w(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(e.consume(g),u=g,B):N(g)?(e.consume(g),w):W(g)}function B(g){return g===u?(e.consume(g),u=null,R):g===null||F(g)?n(g):(e.consume(g),B)}function W(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||K(g)?P(g):(e.consume(g),W)}function R(g){return g===47||g===62||N(g)?v(g):n(g)}function z(g){return g===62?(e.consume(g),Q):n(g)}function Q(g){return g===null||F(g)?V(g):N(g)?(e.consume(g),Q):n(g)}function V(g){return g===45&&o===2?(e.consume(g),_):g===60&&o===1?(e.consume(g),U):g===62&&o===4?(e.consume(g),H):g===63&&o===3?(e.consume(g),m):g===93&&o===5?(e.consume(g),se):F(g)&&(o===6||o===7)?(e.exit("htmlFlowData"),e.check(of,Z,T)(g)):g===null||F(g)?(e.exit("htmlFlowData"),T(g)):(e.consume(g),V)}function T(g){return e.check(sf,I,Z)(g)}function I(g){return e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),L}function L(g){return g===null||F(g)?T(g):(e.enter("htmlFlowData"),V(g))}function _(g){return g===45?(e.consume(g),m):V(g)}function U(g){return g===47?(e.consume(g),a="",X):V(g)}function X(g){if(g===62){let ne=a.toLowerCase();return si.includes(ne)?(e.consume(g),H):V(g)}return me(g)&&a.length<8?(e.consume(g),a+=String.fromCharCode(g),X):V(g)}function se(g){return g===93?(e.consume(g),m):V(g)}function m(g){return g===62?(e.consume(g),H):g===45&&o===2?(e.consume(g),m):V(g)}function H(g){return g===null||F(g)?(e.exit("htmlFlowData"),Z(g)):(e.consume(g),H)}function Z(g){return e.exit("htmlFlow"),t(g)}}i(lf,"tokenizeHtmlFlow");function uf(e,t,n){let r=this;return o;function o(a){return F(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):t(a)}}i(uf,"tokenizeNonLazyContinuationStart");function cf(e,t,n){return r;function r(o){return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),e.attempt(Ge,t,n)}}i(cf,"tokenizeBlankLineBefore");var li={name:"htmlText",tokenize:ff};function ff(e,t,n){let r=this,o,s,a;return l;function l(m){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(m),u}function u(m){return m===33?(e.consume(m),c):m===47?(e.consume(m),P):m===63?(e.consume(m),v):me(m)?(e.consume(m),W):n(m)}function c(m){return m===45?(e.consume(m),f):m===91?(e.consume(m),s=0,y):me(m)?(e.consume(m),k):n(m)}function f(m){return m===45?(e.consume(m),h):n(m)}function d(m){return m===null?n(m):m===45?(e.consume(m),p):F(m)?(a=d,U(m)):(e.consume(m),d)}function p(m){return m===45?(e.consume(m),h):d(m)}function h(m){return m===62?_(m):m===45?p(m):d(m)}function y(m){let H="CDATA[";return m===H.charCodeAt(s++)?(e.consume(m),s===H.length?C:y):n(m)}function C(m){return m===null?n(m):m===93?(e.consume(m),x):F(m)?(a=C,U(m)):(e.consume(m),C)}function x(m){return m===93?(e.consume(m),b):C(m)}function b(m){return m===62?_(m):m===93?(e.consume(m),b):C(m)}function k(m){return m===null||m===62?_(m):F(m)?(a=k,U(m)):(e.consume(m),k)}function v(m){return m===null?n(m):m===63?(e.consume(m),S):F(m)?(a=v,U(m)):(e.consume(m),v)}function S(m){return m===62?_(m):v(m)}function P(m){return me(m)?(e.consume(m),w):n(m)}function w(m){return m===45||ue(m)?(e.consume(m),w):B(m)}function B(m){return F(m)?(a=B,U(m)):N(m)?(e.consume(m),B):_(m)}function W(m){return m===45||ue(m)?(e.consume(m),W):m===47||m===62||K(m)?R(m):n(m)}function R(m){return m===47?(e.consume(m),_):m===58||m===95||me(m)?(e.consume(m),z):F(m)?(a=R,U(m)):N(m)?(e.consume(m),R):_(m)}function z(m){return m===45||m===46||m===58||m===95||ue(m)?(e.consume(m),z):Q(m)}function Q(m){return m===61?(e.consume(m),V):F(m)?(a=Q,U(m)):N(m)?(e.consume(m),Q):R(m)}function V(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(e.consume(m),o=m,T):F(m)?(a=V,U(m)):N(m)?(e.consume(m),V):(e.consume(m),I)}function T(m){return m===o?(e.consume(m),o=void 0,L):m===null?n(m):F(m)?(a=T,U(m)):(e.consume(m),T)}function I(m){return m===null||m===34||m===39||m===60||m===61||m===96?n(m):m===47||m===62||K(m)?R(m):(e.consume(m),I)}function L(m){return m===47||m===62||K(m)?R(m):n(m)}function _(m){return m===62?(e.consume(m),e.exit("htmlTextData"),e.exit("htmlText"),t):n(m)}function U(m){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),X}function X(m){return N(m)?M(e,se,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):se(m)}function se(m){return e.enter("htmlTextData"),a(m)}}i(ff,"tokenizeHtmlText");var lt={name:"labelEnd",resolveAll:mf,resolveTo:gf,tokenize:yf},df={tokenize:bf},pf={tokenize:wf},hf={tokenize:kf};function mf(e){let t=-1,n=[];for(;++t<e.length;){let r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let o=r.type==="labelImage"?4:2;r.type="data",t+=o}}return e.length!==n.length&&te(e,0,e.length,n),e}i(mf,"resolveAllLabelEnd");function gf(e,t){let n=e.length,r=0,o,s,a,l;for(;n--;)if(o=e[n][1],s){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;e[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(a){if(e[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(s=n,o.type!=="labelLink")){r=2;break}}else o.type==="labelEnd"&&(a=n);let u={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},f={type:"labelText",start:{...e[s+r+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",u,t],["enter",c,t]],l=le(l,e.slice(s+1,s+r+3)),l=le(l,[["enter",f,t]]),l=le(l,Ft(t.parser.constructs.insideSpan.null,e.slice(s+r+4,a-3),t)),l=le(l,[["exit",f,t],e[a-2],e[a-1],["exit",c,t]]),l=le(l,e.slice(a+1)),l=le(l,[["exit",u,t]]),te(e,s,e.length,l),e}i(gf,"resolveToLabelEnd");function yf(e,t,n){let r=this,o=r.events.length,s,a;for(;o--;)if((r.events[o][1].type==="labelImage"||r.events[o][1].type==="labelLink")&&!r.events[o][1]._balanced){s=r.events[o][1];break}return l;function l(p){return s?s._inactive?d(p):(a=r.parser.defined.includes(He(r.sliceSerialize({start:s.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),u):n(p)}function u(p){return p===40?e.attempt(df,f,a?f:d)(p):p===91?e.attempt(pf,f,a?c:d)(p):a?f(p):d(p)}function c(p){return e.attempt(hf,f,d)(p)}function f(p){return t(p)}function d(p){return s._balanced=!0,n(p)}}i(yf,"tokenizeLabelEnd");function bf(e,t,n){return r;function r(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),o}function o(d){return K(d)?at(e,s)(d):s(d)}function s(d){return d===41?f(d):Vn(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return K(d)?at(e,u)(d):f(d)}function l(d){return n(d)}function u(d){return d===34||d===39||d===40?Un(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function c(d){return K(d)?at(e,f)(d):f(d)}function f(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):n(d)}}i(bf,"tokenizeResource");function wf(e,t,n){let r=this;return o;function o(l){return Wn.call(r,e,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(He(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(l):n(l)}function a(l){return n(l)}}i(wf,"tokenizeReferenceFull");function kf(e,t,n){return r;function r(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),o}function o(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):n(s)}}i(kf,"tokenizeReferenceCollapsed");var ui={name:"labelStartImage",resolveAll:lt.resolveAll,tokenize:xf};function xf(e,t,n){let r=this;return o;function o(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):t(l)}}i(xf,"tokenizeLabelStartImage");var ci={name:"labelStartLink",resolveAll:lt.resolveAll,tokenize:Af};function Af(e,t,n){let r=this;return o;function o(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}i(Af,"tokenizeLabelStartLink");var Zt={name:"lineEnding",tokenize:Cf};function Cf(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),M(e,t,"linePrefix")}}i(Cf,"tokenizeLineEnding");var ut={name:"thematicBreak",tokenize:vf};function vf(e,t,n){let r=0,o;return s;function s(c){return e.enter("thematicBreak"),a(c)}function a(c){return o=c,l(c)}function l(c){return c===o?(e.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||F(c))?(e.exit("thematicBreak"),t(c)):n(c)}function u(c){return c===o?(e.consume(c),r++,u):(e.exit("thematicBreakSequence"),N(c)?M(e,l,"whitespace")(c):l(c))}}i(vf,"tokenizeThematicBreak");var re={continuation:{tokenize:Ff},exit:If,name:"list",tokenize:Tf},Ef={partial:!0,tokenize:Lf},Sf={partial:!0,tokenize:Pf};function Tf(e,t,n){let r=this,o=r.events[r.events.length-1],s=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,a=0;return l;function l(h){let y=r.containerState.type||(h===42||h===43||h===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||h===r.containerState.marker:Jt(h)){if(r.containerState.type||(r.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),h===42||h===45?e.check(ut,n,c)(h):c(h);if(!r.interrupt||h===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),u(h)}return n(h)}function u(h){return Jt(h)&&++a<10?(e.consume(h),u):(!r.interrupt||a<2)&&(r.containerState.marker?h===r.containerState.marker:h===41||h===46)?(e.exit("listItemValue"),c(h)):n(h)}function c(h){return e.enter("listItemMarker"),e.consume(h),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||h,e.check(Ge,r.interrupt?n:f,e.attempt(Ef,p,d))}function f(h){return r.containerState.initialBlankLine=!0,s++,p(h)}function d(h){return N(h)?(e.enter("listItemPrefixWhitespace"),e.consume(h),e.exit("listItemPrefixWhitespace"),p):n(h)}function p(h){return r.containerState.size=s+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(h)}}i(Tf,"tokenizeListStart");function Ff(e,t,n){let r=this;return r.containerState._closeFlow=void 0,e.check(Ge,o,s);function o(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,M(e,t,"listItemIndent",r.containerState.size+1)(l)}i(o,"onBlank");function s(l){return r.containerState.furtherBlankLines||!N(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Sf,t,a)(l))}i(s,"notBlank");function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,M(e,e.attempt(re,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}i(a,"notInCurrentItem")}i(Ff,"tokenizeListContinuation");function Pf(e,t,n){let r=this;return M(e,o,"listItemIndent",r.containerState.size+1);function o(s){let a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?t(s):n(s)}}i(Pf,"tokenizeIndent");function If(e){e.exit(this.containerState.type)}i(If,"tokenizeListEnd");function Lf(e,t,n){let r=this;return M(e,o,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(s){let a=r.events[r.events.length-1];return!N(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):n(s)}}i(Lf,"tokenizeListItemPrefixWhitespace");var jn={name:"setextUnderline",resolveTo:Of,tokenize:Rf};function Of(e,t){let n=e.length,r,o,s;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(o=n)}else e[n][1].type==="content"&&e.splice(n,1),!s&&e[n][1].type==="definition"&&(s=n);let a={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[o][1].type="setextHeadingText",s?(e.splice(o,0,["enter",a,t]),e.splice(s+1,0,["exit",e[r][1],t]),e[r][1].end={...e[s][1].end}):e[r][1]=a,e.push(["exit",a,t]),e}i(Of,"resolveToSetextUnderline");function Rf(e,t,n){let r=this,o;return s;function s(c){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(e.enter("setextHeadingLine"),o=c,a(c)):n(c)}function a(c){return e.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===o?(e.consume(c),l):(e.exit("setextHeadingLineSequence"),N(c)?M(e,u,"lineSuffix")(c):u(c))}function u(c){return c===null||F(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}i(Rf,"tokenizeSetextUnderline");var Ds={tokenize:Nf};function Nf(e){let t=this,n=e.attempt(Ge,r,e.attempt(this.parser.constructs.flowInitial,o,M(e,e.attempt(this.parser.constructs.flow,o,e.attempt(ni,o)),"linePrefix")));return n;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function o(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,n}}i(Nf,"initializeFlow");var Ms={resolveAll:$s()},Bs=zs("string"),_s=zs("text");function zs(e){return{resolveAll:$s(e==="text"?Df:void 0),tokenize:t};function t(n){let r=this,o=this.parser.constructs[e],s=n.attempt(o,a,l);return a;function a(f){return c(f)?s(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),u)}function c(f){if(f===null)return!0;let d=o[f],p=-1;if(d)for(;++p<d.length;){let h=d[p];if(!h.previous||h.previous.call(r,r.previous))return!0}return!1}}}i(zs,"initializeFactory");function $s(e){return t;function t(n,r){let o=-1,s;for(;++o<=n.length;)s===void 0?n[o]&&n[o][1].type==="data"&&(s=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==s+2&&(n[s][1].end=n[o-1][1].end,n.splice(s+2,o-s-2),o=s+2),s=void 0);return e?e(n,r):n}}i($s,"createResolver");function Df(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){let r=e[n-1][1],o=t.sliceStream(r),s=o.length,a=-1,l=0,u;for(;s--;){let c=o[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(c===-2)u=!0,l++;else if(c!==-1){s++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){let c={type:n===e.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}i(Df,"resolveAllLineSuffixes");var fi={};So(fi,{attentionMarkers:()=>Uf,contentInitial:()=>Bf,disable:()=>jf,document:()=>Mf,flow:()=>zf,flowInitial:()=>_f,insideSpan:()=>Wf,string:()=>$f,text:()=>Vf});var Mf={42:re,43:re,45:re,48:re,49:re,50:re,51:re,52:re,53:re,54:re,55:re,56:re,57:re,62:Dn},Bf={91:ri},_f={[-2]:Qt,[-1]:Qt,32:Qt},zf={35:oi,42:ut,45:[jn,ut],60:ai,61:jn,95:ut,96:_n,126:_n},$f={38:Bn,92:Mn},Vf={[-5]:Zt,[-4]:Zt,[-3]:Zt,33:ui,38:Bn,42:Yt,60:[ei,li],91:ci,92:[ii,Mn],93:lt,95:Yt,96:ti},Wf={null:[Yt,Ms]},Uf={null:[42,95]},jf={null:[]};function Vs(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},o={},s=[],a=[],l=[],u=!0,c={attempt:R(B),check:R(W),consume:S,enter:P,exit:w,interrupt:R(W,{interrupt:!0})},f={code:null,containerState:{},defineSkip:b,events:[],now:x,parser:e,previous:null,sliceSerialize:y,sliceStream:C,write:h},d=t.tokenize.call(f,c),p;return t.resolveAll&&s.push(t),f;function h(T){return a=le(a,T),k(),a[a.length-1]!==null?[]:(z(t,0),f.events=Ft(s,f.events,f),f.events)}i(h,"write");function y(T,I){return Kf(C(T),I)}i(y,"sliceSerialize");function C(T){return Hf(a,T)}i(C,"sliceStream");function x(){let{_bufferIndex:T,_index:I,line:L,column:_,offset:U}=r;return{_bufferIndex:T,_index:I,line:L,column:_,offset:U}}i(x,"now");function b(T){o[T.line]=T.column,V()}i(b,"defineSkip");function k(){let T;for(;r._index<a.length;){let I=a[r._index];if(typeof I=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<I.length;)v(I.charCodeAt(r._bufferIndex));else v(I)}}i(k,"main");function v(T){u=void 0,p=T,d=d(T)}i(v,"go");function S(T){F(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,V()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=T,u=!0}i(S,"consume");function P(T,I){let L=I||{};return L.type=T,L.start=x(),f.events.push(["enter",L,f]),l.push(L),L}i(P,"enter");function w(T){let I=l.pop();return I.end=x(),f.events.push(["exit",I,f]),I}i(w,"exit");function B(T,I){z(T,I.from)}i(B,"onsuccessfulconstruct");function W(T,I){I.restore()}i(W,"onsuccessfulcheck");function R(T,I){return L;function L(_,U,X){let se,m,H,Z;return Array.isArray(_)?ne(_):"tokenize"in _?ne([_]):g(_);function g(ee){return _t;function _t($e){let tt=$e!==null&&ee[$e],ht=$e!==null&&ee.null,Mr=[...Array.isArray(tt)?tt:tt?[tt]:[],...Array.isArray(ht)?ht:ht?[ht]:[]];return ne(Mr)($e)}}function ne(ee){return se=ee,m=0,ee.length===0?X:et(ee[m])}function et(ee){return _t;function _t($e){return Z=Q(),H=ee,ee.partial||(f.currentConstruct=ee),ee.name&&f.parser.constructs.disable.null.includes(ee.name)?pn($e):ee.tokenize.call(I?Object.assign(Object.create(f),I):f,c,Dr,pn)($e)}}function Dr(ee){return u=!0,T(H,Z),U}function pn(ee){return u=!0,Z.restore(),++m<se.length?et(se[m]):X}}}i(R,"constructFactory");function z(T,I){T.resolveAll&&!s.includes(T)&&s.push(T),T.resolve&&te(f.events,I,f.events.length-I,T.resolve(f.events.slice(I),f)),T.resolveTo&&(f.events=T.resolveTo(f.events,f))}i(z,"addResult");function Q(){let T=x(),I=f.previous,L=f.currentConstruct,_=f.events.length,U=Array.from(l);return{from:_,restore:X};function X(){r=T,f.previous=I,f.currentConstruct=L,f.events.length=_,l=U,V()}}i(Q,"store");function V(){r.line in o&&r.column<2&&(r.column=o[r.line],r.offset+=o[r.line]-1)}i(V,"accountForPotentialSkip")}i(Vs,"createTokenizer");function Hf(e,t){let n=t.start._index,r=t.start._bufferIndex,o=t.end._index,s=t.end._bufferIndex,a;if(n===o)a=[e[n].slice(r,s)];else{if(a=e.slice(n,o),r>-1){let l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(e[o].slice(0,s))}return a}i(Hf,"sliceChunks");function Kf(e,t){let n=-1,r=[],o;for(;++n<e.length;){let s=e[n],a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&o)continue;a=" ";break}default:a=String.fromCharCode(s)}o=s===-2,r.push(a)}return r.join("")}i(Kf,"serializeChunks");function di(e){let r={constructs:Cs([fi,...(e||{}).extensions||[]]),content:o(Ps),defined:[],document:o(Ls),flow:o(Ds),lazy:{},string:o(Bs),text:o(_s)};return r;function o(s){return a;function a(l){return Vs(r,s,l)}}}i(di,"parse");function pi(e){for(;!$n(e););return e}i(pi,"postprocess");var Ws=/[\0\t\n\r]/g;function hi(){let e=1,t="",n=!0,r;return o;function o(s,a,l){let u=[],c,f,d,p,h;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,t="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Ws.lastIndex=d,c=Ws.exec(s),p=c&&c.index!==void 0?c.index:s.length,h=s.charCodeAt(p),!c){t=s.slice(d);break}if(h===10&&d===p&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<p&&(u.push(s.slice(d,p)),e+=p-d),h){case 0:{u.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,u.push(-2);e++<f;)u.push(-1);break}case 10:{u.push(-4),e=1;break}default:r=!0,e=1}d=p+1}return l&&(r&&u.push(-5),t&&u.push(t),u.push(null)),u}}i(hi,"preprocess");var qf=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Hn(e){return e.replace(qf,Gf)}i(Hn,"decodeString");function Gf(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){let o=n.charCodeAt(1),s=o===120||o===88;return Nn(n.slice(s?2:1),s?16:10)}return St(n)||e}i(Gf,"decode");function Je(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Us(e.position):"start"in e||"end"in e?Us(e):"line"in e||"column"in e?mi(e):""}i(Je,"stringifyPosition");function mi(e){return js(e&&e.line)+":"+js(e&&e.column)}i(mi,"point");function Us(e){return mi(e&&e.start)+"-"+mi(e&&e.end)}i(Us,"position");function js(e){return e&&typeof e=="number"?e:1}i(js,"index");var Ks={}.hasOwnProperty;function gi(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Jf(n)(pi(di(n).document().write(hi()(e,t,!0))))}i(gi,"fromMarkdown");function Jf(e){let t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(vo),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(xo),blockQuote:s($e),characterEscape:R,characterReference:R,codeFenced:s(tt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(tt,a),codeText:s(ht,a),codeTextData:R,data:R,codeFlowValue:R,definition:s(Mr),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(su),hardBreakEscape:s(Ao),hardBreakTrailing:s(Ao),htmlFlow:s(Co,a),htmlFlowData:R,htmlText:s(Co,a),htmlTextData:R,image:s(au),label:a,link:s(vo),listItem:s(lu),listItemValue:p,listOrdered:s(Eo,d),listUnordered:s(Eo),paragraph:s(uu),reference:g,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(xo),strong:s(cu),thematicBreak:s(du)},exit:{atxHeading:u(),atxHeadingSequence:P,autolink:u(),autolinkEmail:_t,autolinkProtocol:ee,blockQuote:u(),characterEscapeValue:z,characterReferenceMarkerHexadecimal:et,characterReferenceMarkerNumeric:et,characterReferenceValue:Dr,characterReference:pn,codeFenced:u(x),codeFencedFence:C,codeFencedFenceInfo:h,codeFencedFenceMeta:y,codeFlowValue:z,codeIndented:u(b),codeText:u(L),codeTextData:z,data:z,definition:u(),definitionDestinationString:S,definitionLabelString:k,definitionTitleString:v,emphasis:u(),hardBreakEscape:u(V),hardBreakTrailing:u(V),htmlFlow:u(T),htmlFlowData:z,htmlText:u(I),htmlTextData:z,image:u(U),label:se,labelText:X,lineEnding:Q,link:u(_),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ne,resourceDestinationString:m,resourceTitleString:H,resource:Z,setextHeading:u(W),setextHeadingLineSequence:B,setextHeadingText:w,strong:u(),thematicBreak:u()}};qs(t,(e||{}).mdastExtensions||[]);let n={};return r;function r(A){let E={type:"root",children:[]},D={stack:[E],tokenStack:[],config:t,enter:l,exit:c,buffer:a,resume:f,data:n},$=[],j=-1;for(;++j<A.length;)if(A[j][1].type==="listOrdered"||A[j][1].type==="listUnordered")if(A[j][0]==="enter")$.push(j);else{let Ae=$.pop();j=o(A,Ae,j)}for(j=-1;++j<A.length;){let Ae=t[A[j][0]];Ks.call(Ae,A[j][1].type)&&Ae[A[j][1].type].call(Object.assign({sliceSerialize:A[j][2].sliceSerialize},D),A[j][1])}if(D.tokenStack.length>0){let Ae=D.tokenStack[D.tokenStack.length-1];(Ae[1]||Hs).call(D,void 0,Ae[0])}for(E.position={start:Ye(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:Ye(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},j=-1;++j<t.transforms.length;)E=t.transforms[j](E)||E;return E}function o(A,E,D){let $=E-1,j=-1,Ae=!1,nt,Ve,zt,$t;for(;++$<=D;){let he=A[$];switch(he[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{he[0]==="enter"?j++:j--,$t=void 0;break}case"lineEndingBlank":{he[0]==="enter"&&(nt&&!$t&&!j&&!zt&&(zt=$),$t=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:$t=void 0}if(!j&&he[0]==="enter"&&he[1].type==="listItemPrefix"||j===-1&&he[0]==="exit"&&(he[1].type==="listUnordered"||he[1].type==="listOrdered")){if(nt){let mt=$;for(Ve=void 0;mt--;){let We=A[mt];if(We[1].type==="lineEnding"||We[1].type==="lineEndingBlank"){if(We[0]==="exit")continue;Ve&&(A[Ve][1].type="lineEndingBlank",Ae=!0),We[1].type="lineEnding",Ve=mt}else if(!(We[1].type==="linePrefix"||We[1].type==="blockQuotePrefix"||We[1].type==="blockQuotePrefixWhitespace"||We[1].type==="blockQuoteMarker"||We[1].type==="listItemIndent"))break}zt&&(!Ve||zt<Ve)&&(nt._spread=!0),nt.end=Object.assign({},Ve?A[Ve][1].start:he[1].end),A.splice(Ve||$,0,["exit",nt,he[2]]),$++,D++}if(he[1].type==="listItemPrefix"){let mt={type:"listItem",_spread:!1,start:Object.assign({},he[1].start),end:void 0};nt=mt,A.splice($,0,["enter",mt,he[2]]),$++,D++,zt=void 0,$t=!0}}}return A[E][1]._spread=Ae,D}function s(A,E){return D;function D($){l.call(this,A($),$),E&&E.call(this,$)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(A,E,D){this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([E,D||void 0]),A.position={start:Ye(E.start),end:void 0}}function u(A){return E;function E(D){A&&A.call(this,D),c.call(this,D)}}function c(A,E){let D=this.stack.pop(),$=this.tokenStack.pop();if($)$[0].type!==A.type&&(E?E.call(this,A,$[0]):($[1]||Hs).call(this,A,$[0]));else throw new Error("Cannot close `"+A.type+"` ("+Je({start:A.start,end:A.end})+"): it\u2019s not open");D.position.end=Ye(A.end)}function f(){return st(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function p(A){if(this.data.expectingFirstListItemValue){let E=this.stack[this.stack.length-2];E.start=Number.parseInt(this.sliceSerialize(A),10),this.data.expectingFirstListItemValue=void 0}}function h(){let A=this.resume(),E=this.stack[this.stack.length-1];E.lang=A}function y(){let A=this.resume(),E=this.stack[this.stack.length-1];E.meta=A}function C(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A.replace(/(\r?\n|\r)$/g,"")}function k(A){let E=this.resume(),D=this.stack[this.stack.length-1];D.label=E,D.identifier=He(this.sliceSerialize(A)).toLowerCase()}function v(){let A=this.resume(),E=this.stack[this.stack.length-1];E.title=A}function S(){let A=this.resume(),E=this.stack[this.stack.length-1];E.url=A}function P(A){let E=this.stack[this.stack.length-1];if(!E.depth){let D=this.sliceSerialize(A).length;E.depth=D}}function w(){this.data.setextHeadingSlurpLineEnding=!0}function B(A){let E=this.stack[this.stack.length-1];E.depth=this.sliceSerialize(A).codePointAt(0)===61?1:2}function W(){this.data.setextHeadingSlurpLineEnding=void 0}function R(A){let D=this.stack[this.stack.length-1].children,$=D[D.length-1];(!$||$.type!=="text")&&($=fu(),$.position={start:Ye(A.start),end:void 0},D.push($)),this.stack.push($)}function z(A){let E=this.stack.pop();E.value+=this.sliceSerialize(A),E.position.end=Ye(A.end)}function Q(A){let E=this.stack[this.stack.length-1];if(this.data.atHardBreak){let D=E.children[E.children.length-1];D.position.end=Ye(A.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(E.type)&&(R.call(this,A),z.call(this,A))}function V(){this.data.atHardBreak=!0}function T(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A}function I(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A}function L(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A}function _(){let A=this.stack[this.stack.length-1];if(this.data.inReference){let E=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=E,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function U(){let A=this.stack[this.stack.length-1];if(this.data.inReference){let E=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=E,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function X(A){let E=this.sliceSerialize(A),D=this.stack[this.stack.length-2];D.label=Hn(E),D.identifier=He(E).toLowerCase()}function se(){let A=this.stack[this.stack.length-1],E=this.resume(),D=this.stack[this.stack.length-1];if(this.data.inReference=!0,D.type==="link"){let $=A.children;D.children=$}else D.alt=E}function m(){let A=this.resume(),E=this.stack[this.stack.length-1];E.url=A}function H(){let A=this.resume(),E=this.stack[this.stack.length-1];E.title=A}function Z(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function ne(A){let E=this.resume(),D=this.stack[this.stack.length-1];D.label=E,D.identifier=He(this.sliceSerialize(A)).toLowerCase(),this.data.referenceType="full"}function et(A){this.data.characterReferenceType=A.type}function Dr(A){let E=this.sliceSerialize(A),D=this.data.characterReferenceType,$;D?($=Nn(E,D==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$=St(E);let j=this.stack[this.stack.length-1];j.value+=$}function pn(A){let E=this.stack.pop();E.position.end=Ye(A.end)}function ee(A){z.call(this,A);let E=this.stack[this.stack.length-1];E.url=this.sliceSerialize(A)}function _t(A){z.call(this,A);let E=this.stack[this.stack.length-1];E.url="mailto:"+this.sliceSerialize(A)}function $e(){return{type:"blockquote",children:[]}}function tt(){return{type:"code",lang:null,meta:null,value:""}}function ht(){return{type:"inlineCode",value:""}}function Mr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function su(){return{type:"emphasis",children:[]}}function xo(){return{type:"heading",depth:0,children:[]}}function Ao(){return{type:"break"}}function Co(){return{type:"html",value:""}}function au(){return{type:"image",title:null,url:"",alt:null}}function vo(){return{type:"link",title:null,url:"",children:[]}}function Eo(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function lu(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function uu(){return{type:"paragraph",children:[]}}function cu(){return{type:"strong",children:[]}}function fu(){return{type:"text",value:""}}function du(){return{type:"thematicBreak"}}}i(Jf,"compiler");function Ye(e){return{line:e.line,column:e.column,offset:e.offset}}i(Ye,"point");function qs(e,t){let n=-1;for(;++n<t.length;){let r=t[n];Array.isArray(r)?qs(e,r):Yf(e,r)}}i(qs,"configure");function Yf(e,t){let n;for(n in t)if(Ks.call(t,n))switch(n){case"canContainEols":{let r=t[n];r&&e[n].push(...r);break}case"transforms":{let r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{let r=t[n];r&&Object.assign(e[n],r);break}}}i(Yf,"extension");function Hs(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Je({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Je({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Je({start:t.start,end:t.end})+") is still open")}i(Hs,"defaultOnError");function Pt(e){let t=this;t.parser=n;function n(r){return gi(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}i(n,"parser")}i(Pt,"remarkParse");var Gs={}.hasOwnProperty;function Js(e,t){let n=t||{};function r(o,...s){let a=r.invalid,l=r.handlers;if(o&&Gs.call(o,e)){let u=String(o[e]);a=Gs.call(l,u)?l[u]:r.unknown}if(a)return a.call(this,o,...s)}return i(r,"one"),r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}i(Js,"zwitch");var Qf={}.hasOwnProperty;function yi(e,t){let n=-1,r;if(t.extensions)for(;++n<t.extensions.length;)yi(e,t.extensions[n]);for(r in t)if(Qf.call(t,r))switch(r){case"extensions":break;case"unsafe":{Ys(e[r],t[r]);break}case"join":{Ys(e[r],t[r]);break}case"handlers":{Xf(e[r],t[r]);break}default:e.options[r]=t[r]}return e}i(yi,"configure");function Ys(e,t){t&&e.push(...t)}i(Ys,"list");function Xf(e,t){t&&Object.assign(e,t)}i(Xf,"map");function Qs(e,t,n,r){let o=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);let a=n.indentLines(n.containerFlow(e,s.current()),Zf);return o(),a}i(Qs,"blockquote");function Zf(e,t,n){return">"+(n?"":" ")+e}i(Zf,"map");function Kn(e,t){return Xs(e,t.inConstruct,!0)&&!Xs(e,t.notInConstruct,!1)}i(Kn,"patternInScope");function Xs(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}i(Xs,"listInScope");function bi(e,t,n,r){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&Kn(n.stack,n.unsafe[o]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}i(bi,"hardBreak");function Zs(e,t){let n=String(e),r=n.indexOf(t),o=r,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===o?++s>a&&(a=s):s=1,o=r+t.length,r=n.indexOf(t,o);return a}i(Zs,"longestStreak");function en(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}i(en,"formatCodeAsIndented");function ea(e){let t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}i(ea,"checkFence");function ta(e,t,n,r){let o=ea(n),s=e.value||"",a=o==="`"?"GraveAccent":"Tilde";if(en(e,n)){let d=n.enter("codeIndented"),p=n.indentLines(s,ed);return d(),p}let l=n.createTracker(r),u=o.repeat(Math.max(Zs(s,o)+1,3)),c=n.enter("codeFenced"),f=l.move(u);if(e.lang){let d=n.enter(`codeFencedLang${a}`);f+=l.move(n.safe(e.lang,{before:f,after:" ",encode:["`"],...l.current()})),d()}if(e.lang&&e.meta){let d=n.enter(`codeFencedMeta${a}`);f+=l.move(" "),f+=l.move(n.safe(e.meta,{before:f,after:`
`,encode:["`"],...l.current()})),d()}return f+=l.move(`
`),s&&(f+=l.move(s+`
`)),f+=l.move(u),c(),f}i(ta,"code");function ed(e,t,n){return(n?"":"    ")+e}i(ed,"map");function It(e){let t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}i(It,"checkQuote");function na(e,t,n,r){let o=It(n),s=o==='"'?"Quote":"Apostrophe",a=n.enter("definition"),l=n.enter("label"),u=n.createTracker(r),c=u.move("[");return c+=u.move(n.safe(n.associationId(e),{before:c,after:"]",...u.current()})),c+=u.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":`
`,...u.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=u.move(" "+o),c+=u.move(n.safe(e.title,{before:c,after:o,...u.current()})),c+=u.move(o),l()),a(),c}i(na,"definition");function ra(e){let t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}i(ra,"checkEmphasis");function ge(e){return"&#x"+e.toString(16).toUpperCase()+";"}i(ge,"encodeCharacterReference");function Lt(e,t,n){let r=Tt(e),o=Tt(t);return r===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}i(Lt,"encodeInfo");wi.peek=td;function wi(e,t,n,r){let o=ra(n),s=n.enter("emphasis"),a=n.createTracker(r),l=a.move(o),u=a.move(n.containerPhrasing(e,{after:o,before:l,...a.current()})),c=u.charCodeAt(0),f=Lt(r.before.charCodeAt(r.before.length-1),c,o);f.inside&&(u=ge(c)+u.slice(1));let d=u.charCodeAt(u.length-1),p=Lt(r.after.charCodeAt(0),d,o);p.inside&&(u=u.slice(0,-1)+ge(d));let h=a.move(o);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},l+u+h}i(wi,"emphasis");function td(e,t,n){return n.options.emphasis||"*"}i(td,"emphasisPeek");var Ot=i((function(e){if(e==null)return od;if(typeof e=="function")return qn(e);if(typeof e=="object")return Array.isArray(e)?nd(e):rd(e);if(typeof e=="string")return id(e);throw new Error("Expected function, string, or object as test")}),"convert");function nd(e){let t=[],n=-1;for(;++n<e.length;)t[n]=Ot(e[n]);return qn(r);function r(...o){let s=-1;for(;++s<t.length;)if(t[s].apply(this,o))return!0;return!1}}i(nd,"anyFactory");function rd(e){let t=e;return qn(n);function n(r){let o=r,s;for(s in e)if(o[s]!==t[s])return!1;return!0}}i(rd,"propertiesFactory");function id(e){return qn(t);function t(n){return n&&n.type===e}}i(id,"typeFactory");function qn(e){return t;function t(n,r,o){return!!(sd(n)&&e.call(this,n,typeof r=="number"?r:void 0,o||void 0))}}i(qn,"castFactory");function od(){return!0}i(od,"ok");function sd(e){return e!==null&&typeof e=="object"&&"type"in e}i(sd,"looksLikeANode");function ia(e){return"\x1B[33m"+e+"\x1B[39m"}i(ia,"color");var oa=[],Gn=!0,ct=!1,Jn="skip";function ki(e,t,n,r){let o;typeof t=="function"&&typeof n!="function"?(r=n,n=t):o=t;let s=Ot(o),a=r?-1:1;l(e,void 0,[])();function l(u,c,f){let d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){let h=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(p,"name",{value:"node ("+ia(u.type+(h?"<"+h+">":""))+")"})}return p;function p(){let h=oa,y,C,x;if((!t||s(u,c,f[f.length-1]||void 0))&&(h=ad(n(u,f)),h[0]===ct))return h;if("children"in u&&u.children){let b=u;if(b.children&&h[0]!==Jn)for(C=(r?b.children.length:-1)+a,x=f.concat(b);C>-1&&C<b.children.length;){let k=b.children[C];if(y=l(k,C,x)(),y[0]===ct)return y;C=typeof y[1]=="number"?y[1]:C+a}}return h}}i(l,"factory")}i(ki,"visitParents");function ad(e){return Array.isArray(e)?e:typeof e=="number"?[Gn,e]:e==null?oa:[e]}i(ad,"toResult");function tn(e,t,n,r){let o,s,a;typeof t=="function"&&typeof n!="function"?(s=void 0,a=t,o=n):(s=t,a=n,o=r),ki(e,s,l,o);function l(u,c){let f=c[c.length-1],d=f?f.children.indexOf(u):void 0;return a(u,d,f)}i(l,"overload")}i(tn,"visit");function Yn(e,t){let n=!1;return tn(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,ct}),!!((!e.depth||e.depth<3)&&st(e)&&(t.options.setext||n))}i(Yn,"formatHeadingAsSetext");function sa(e,t,n,r){let o=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(r);if(Yn(e,n)){let f=n.enter("headingSetext"),d=n.enter("phrasing"),p=n.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return d(),f(),p+`
`+(o===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}let a="#".repeat(o),l=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=ge(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),u(),l(),c}i(sa,"heading");xi.peek=ld;function xi(e){return e.value||""}i(xi,"html");function ld(){return"<"}i(ld,"htmlPeek");Ai.peek=ud;function Ai(e,t,n,r){let o=It(n),s=o==='"'?"Quote":"Apostrophe",a=n.enter("image"),l=n.enter("label"),u=n.createTracker(r),c=u.move("![");return c+=u.move(n.safe(e.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(e.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(e.url,{before:c,after:e.title?" ":")",...u.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=u.move(" "+o),c+=u.move(n.safe(e.title,{before:c,after:o,...u.current()})),c+=u.move(o),l()),c+=u.move(")"),a(),c}i(Ai,"image");function ud(){return"!"}i(ud,"imagePeek");Ci.peek=cd;function Ci(e,t,n,r){let o=e.referenceType,s=n.enter("imageReference"),a=n.enter("label"),l=n.createTracker(r),u=l.move("!["),c=n.safe(e.alt,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(e),{before:u,after:"]",...l.current()});return a(),n.stack=f,s(),o==="full"||!c||c!==d?u+=l.move(d+"]"):o==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}i(Ci,"imageReference");function cd(){return"!"}i(cd,"imageReferencePeek");vi.peek=fd;function vi(e,t,n){let r=e.value||"",o="`",s=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(r);)o+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){let a=n.unsafe[s],l=n.compilePattern(a),u;if(a.atBreak)for(;u=l.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return o+r+o}i(vi,"inlineCode");function fd(){return"`"}i(fd,"inlineCodePeek");function Ei(e,t){let n=st(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}i(Ei,"formatLinkAsAutolink");Si.peek=dd;function Si(e,t,n,r){let o=It(n),s=o==='"'?"Quote":"Apostrophe",a=n.createTracker(r),l,u;if(Ei(e,n)){let f=n.stack;n.stack=[],l=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(e,{before:d,after:">",...a.current()})),d+=a.move(">"),l(),n.stack=f,d}l=n.enter("link"),u=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),u(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(u=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(u=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),u(),e.title&&(u=n.enter(`title${s}`),c+=a.move(" "+o),c+=a.move(n.safe(e.title,{before:c,after:o,...a.current()})),c+=a.move(o),u()),c+=a.move(")"),l(),c}i(Si,"link");function dd(e,t,n){return Ei(e,n)?"<":"["}i(dd,"linkPeek");Ti.peek=pd;function Ti(e,t,n,r){let o=e.referenceType,s=n.enter("linkReference"),a=n.enter("label"),l=n.createTracker(r),u=l.move("["),c=n.containerPhrasing(e,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(e),{before:u,after:"]",...l.current()});return a(),n.stack=f,s(),o==="full"||!c||c!==d?u+=l.move(d+"]"):o==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}i(Ti,"linkReference");function pd(){return"["}i(pd,"linkReferencePeek");function Rt(e){let t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}i(Rt,"checkBullet");function aa(e){let t=Rt(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}i(aa,"checkBulletOther");function la(e){let t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}i(la,"checkBulletOrdered");function Qn(e){let t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}i(Qn,"checkRule");function ua(e,t,n,r){let o=n.enter("list"),s=n.bulletCurrent,a=e.ordered?la(n):Rt(n),l=e.ordered?a==="."?")":".":aa(n),u=t&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!e.ordered){let f=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),Qn(n)===a&&f){let d=-1;for(;++d<e.children.length;){let p=e.children[d];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=l),n.bulletCurrent=a;let c=n.containerFlow(e,r);return n.bulletLastUsed=a,n.bulletCurrent=s,o(),c}i(ua,"list");function ca(e){let t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}i(ca,"checkListItemIndent");function fa(e,t,n,r){let o=ca(n),s=n.bulletCurrent||Rt(n);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(o==="tab"||o==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);let l=n.createTracker(r);l.move(s+" ".repeat(a-s.length)),l.shift(a);let u=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,l.current()),f);return u(),c;function f(d,p,h){return p?(h?"":" ".repeat(a))+d:(h?s:s+" ".repeat(a-s.length))+d}i(f,"map")}i(fa,"listItem");function da(e,t,n,r){let o=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,r);return s(),o(),a}i(da,"paragraph");var Fi=Ot(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function pa(e,t,n,r){return(e.children.some(function(a){return Fi(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}i(pa,"root");function ha(e){let t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}i(ha,"checkStrong");Pi.peek=hd;function Pi(e,t,n,r){let o=ha(n),s=n.enter("strong"),a=n.createTracker(r),l=a.move(o+o),u=a.move(n.containerPhrasing(e,{after:o,before:l,...a.current()})),c=u.charCodeAt(0),f=Lt(r.before.charCodeAt(r.before.length-1),c,o);f.inside&&(u=ge(c)+u.slice(1));let d=u.charCodeAt(u.length-1),p=Lt(r.after.charCodeAt(0),d,o);p.inside&&(u=u.slice(0,-1)+ge(d));let h=a.move(o+o);return s(),n.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},l+u+h}i(Pi,"strong");function hd(e,t,n){return n.options.strong||"*"}i(hd,"strongPeek");function ma(e,t,n,r){return n.safe(e.value,r)}i(ma,"text");function ga(e){let t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}i(ga,"checkRuleRepetition");function ya(e,t,n){let r=(Qn(n)+(n.options.ruleSpaces?" ":"")).repeat(ga(n));return n.options.ruleSpaces?r.slice(0,-1):r}i(ya,"thematicBreak");var ba={blockquote:Qs,break:bi,code:ta,definition:na,emphasis:wi,hardBreak:bi,heading:sa,html:xi,image:Ai,imageReference:Ci,inlineCode:vi,link:Si,linkReference:Ti,list:ua,listItem:fa,paragraph:da,root:pa,strong:Pi,text:ma,thematicBreak:ya};var wa=[md];function md(e,t,n,r){if(t.type==="code"&&en(t,r)&&(e.type==="list"||e.type===t.type&&en(e,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return e.type==="paragraph"&&(e.type===t.type||t.type==="definition"||t.type==="heading"&&Yn(t,r))?void 0:n.spread?1:0}i(md,"joinDefaults");var ft=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],ka=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:ft},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:ft},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:ft},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:ft},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:ft},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:ft},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:ft},{atBreak:!0,character:"~"}];function xa(e){return e.label||!e.identifier?e.label||"":Hn(e.identifier)}i(xa,"association");function Aa(e){if(!e._compiled){let t=(e.atBreak?"[\\r\\n][\\t ]*":"")+(e.before?"(?:"+e.before+")":"");e._compiled=new RegExp((t?"("+t+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(e.after?"(?:"+e.after+")":""),"g")}return e._compiled}i(Aa,"compilePattern");function Ca(e,t,n){let r=t.indexStack,o=e.children||[],s=[],a=-1,l=n.before,u;r.push(-1);let c=t.createTracker(n);for(;++a<o.length;){let f=o[a],d;if(r[r.length-1]=a,a+1<o.length){let y=t.handle.handlers[o[a+1].type];y&&y.peek&&(y=y.peek),d=y?y(o[a+1],e,t,{before:"",after:"",...c.current()}).charAt(0):""}else d=n.after;s.length>0&&(l==="\r"||l===`
`)&&f.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),l=" ",c=t.createTracker(n),c.move(s.join("")));let p=t.handle(f,e,t,{...c.current(),after:d,before:l});u&&u===p.slice(0,1)&&(p=ge(u.charCodeAt(0))+p.slice(1));let h=t.attentionEncodeSurroundingInfo;t.attentionEncodeSurroundingInfo=void 0,u=void 0,h&&(s.length>0&&h.before&&l===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+ge(l.charCodeAt(0))),h.after&&(u=d)),c.move(p),s.push(p),l=p.slice(-1)}return r.pop(),s.join("")}i(Ca,"containerPhrasing");function va(e,t,n){let r=t.indexStack,o=e.children||[],s=t.createTracker(n),a=[],l=-1;for(r.push(-1);++l<o.length;){let u=o[l];r[r.length-1]=l,a.push(s.move(t.handle(u,e,t,{before:`
`,after:`
`,...s.current()}))),u.type!=="list"&&(t.bulletLastUsed=void 0),l<o.length-1&&a.push(s.move(gd(u,o[l+1],e,t)))}return r.pop(),a.join("")}i(va,"containerFlow");function gd(e,t,n,r){let o=r.join.length;for(;o--;){let s=r.join[o](e,t,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}i(gd,"between");var yd=/\r?\n|\r/g;function Ea(e,t){let n=[],r=0,o=0,s;for(;s=yd.exec(e);)a(e.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,o++;return a(e.slice(r)),n.join("");function a(l){n.push(t(l,o,!l))}i(a,"one")}i(Ea,"indentLines");function Ta(e,t,n){let r=(n.before||"")+(t||"")+(n.after||""),o=[],s=[],a={},l=-1;for(;++l<e.unsafe.length;){let f=e.unsafe[l];if(!Kn(e.stack,f))continue;let d=e.compilePattern(f),p;for(;p=d.exec(r);){let h="before"in f||!!f.atBreak,y="after"in f,C=p.index+(h?p[1].length:0);o.includes(C)?(a[C].before&&!h&&(a[C].before=!1),a[C].after&&!y&&(a[C].after=!1)):(o.push(C),a[C]={before:h,after:y})}}o.sort(bd);let u=n.before?n.before.length:0,c=r.length-(n.after?n.after.length:0);for(l=-1;++l<o.length;){let f=o[l];f<u||f>=c||f+1<c&&o[l+1]===f+1&&a[f].after&&!a[f+1].before&&!a[f+1].after||o[l-1]===f-1&&a[f].before&&!a[f-1].before&&!a[f-1].after||(u!==f&&s.push(Sa(r.slice(u,f),"\\")),u=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!n.encode||!n.encode.includes(r.charAt(f)))?s.push("\\"):(s.push(ge(r.charCodeAt(f))),u++))}return s.push(Sa(r.slice(u,c),n.after)),s.join("")}i(Ta,"safe");function bd(e,t){return e-t}i(bd,"numerical");function Sa(e,t){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],o=[],s=e+t,a=-1,l=0,u;for(;u=n.exec(s);)r.push(u.index);for(;++a<r.length;)l!==r[a]&&o.push(e.slice(l,r[a])),o.push("\\"),l=r[a];return o.push(e.slice(l)),o.join("")}i(Sa,"escapeBackslashes");function Fa(e){let t=e||{},n=t.now||{},r=t.lineShift||0,o=n.line||1,s=n.column||1;return{move:u,current:a,shift:l};function a(){return{now:{line:o,column:s},lineShift:r}}function l(c){r+=c}function u(c){let f=c||"",d=f.split(/\r?\n|\r/g),p=d[d.length-1];return o+=d.length-1,s=d.length===1?s+p.length:1+p.length+r,f}}i(Fa,"track");function Ii(e,t){let n=t||{},r={associationId:xa,containerPhrasing:Ad,containerFlow:Cd,createTracker:Fa,compilePattern:Aa,enter:s,handlers:{...ba},handle:void 0,indentLines:Ea,indexStack:[],join:[...wa],options:{},safe:vd,stack:[],unsafe:[...ka]};yi(r,n),r.options.tightDefinitions&&r.join.push(xd),r.handle=Js("type",{invalid:wd,unknown:kd,handlers:r.handlers});let o=r.handle(e,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o;function s(a){return r.stack.push(a),l;function l(){r.stack.pop()}i(l,"exit")}i(s,"enter")}i(Ii,"toMarkdown");function wd(e){throw new Error("Cannot handle value `"+e+"`, expected node")}i(wd,"invalid");function kd(e){let t=e;throw new Error("Cannot handle unknown node `"+t.type+"`")}i(kd,"unknown");function xd(e,t){if(e.type==="definition"&&e.type===t.type)return 0}i(xd,"joinDefinition");function Ad(e,t){return Ca(e,this,t)}i(Ad,"containerPhrasingBound");function Cd(e,t){return va(e,this,t)}i(Cd,"containerFlowBound");function vd(e,t){return Ta(this,e,t)}i(vd,"safeBound");function Xn(e){let t=this;t.compiler=n;function n(r){return Ii(r,{...t.data("settings"),...e,extensions:t.data("toMarkdownExtensions")||[]})}i(n,"compiler")}i(Xn,"remarkStringify");function Li(e){if(e)throw e}i(Li,"bail");var nr=gt(Ba(),1);function nn(e){if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}i(nn,"isPlainObject");function Oi(){let e=[],t={run:n,use:r};return t;function n(...o){let s=-1,a=o.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...o);function l(u,...c){let f=e[++s],d=-1;if(u){a(u);return}for(;++d<o.length;)(c[d]===null||c[d]===void 0)&&(c[d]=o[d]);o=c,f?_a(f,l)(...c):a(null,...c)}i(l,"next")}function r(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return e.push(o),t}}i(Oi,"trough");function _a(e,t){let n;return r;function r(...a){let l=e.length>a.length,u;l&&a.push(o);try{u=e.apply(this,a)}catch(c){let f=c;if(l&&n)throw f;return o(f)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,o):u instanceof Error?o(u):s(u))}function o(a,...l){n||(n=!0,t(a,...l))}function s(a){o(null,a)}}i(_a,"wrap");var Y=class extends Error{static{i(this,"VFileMessage")}constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let o="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof t=="string"?o=t:!s.cause&&t&&(a=!0,o=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof r=="string"){let u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){let u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}let l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=l?l.line:void 0,this.name=Je(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Y.prototype.file="";Y.prototype.name="";Y.prototype.reason="";Y.prototype.message="";Y.prototype.stack="";Y.prototype.column=void 0;Y.prototype.line=void 0;Y.prototype.ancestors=void 0;Y.prototype.cause=void 0;Y.prototype.fatal=void 0;Y.prototype.place=void 0;Y.prototype.ruleId=void 0;Y.prototype.source=void 0;var we=gt(require("node:path"),1);var Ri=gt(require("node:process"),1);var Ni=require("node:url");function er(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}i(er,"isUrl");var Di=["history","path","basename","stem","extname","dirname"],rn=class{static{i(this,"VFile")}constructor(t){let n;t?er(t)?n={path:t}:typeof t=="string"||Ed(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":Ri.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Di.length;){let s=Di[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let o;for(o in n)Di.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?we.default.basename(this.path):void 0}set basename(t){Bi(t,"basename"),Mi(t,"basename"),this.path=we.default.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?we.default.dirname(this.path):void 0}set dirname(t){za(this.basename,"dirname"),this.path=we.default.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?we.default.extname(this.path):void 0}set extname(t){if(Mi(t,"extname"),za(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=we.default.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){er(t)&&(t=(0,Ni.fileURLToPath)(t)),Bi(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?we.default.basename(this.path,this.extname):void 0}set stem(t){Bi(t,"stem"),Mi(t,"stem"),this.path=we.default.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){let o=this.message(t,n,r);throw o.fatal=!0,o}info(t,n,r){let o=this.message(t,n,r);return o.fatal=void 0,o}message(t,n,r){let o=new Y(t,n,r);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}};function Mi(e,t){if(e&&e.includes(we.default.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+we.default.sep+"`")}i(Mi,"assertPart");function Bi(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}i(Bi,"assertNonEmpty");function za(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}i(za,"assertPath");function Ed(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}i(Ed,"isUint8Array");var $a=i((function(e){let r=this.constructor.prototype,o=r[e],s=i(function(){return o.apply(s,arguments)},"apply");return Object.setPrototypeOf(s,r),s}),"CallableInstance");var Sd={}.hasOwnProperty,Vi=class e extends $a{static{i(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Oi()}copy(){let t=new e,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];t.use(...r)}return t.data((0,nr.default)(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?($i("data",this.frozen),this.namespace[t]=n,this):Sd.call(this.namespace,t)&&this.namespace[t]||void 0:t?($i("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;let t=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let o=n.call(t,...r);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();let n=tr(t),r=this.parser||this.Parser;return _i("parse",r),r(String(n),n)}process(t,n){let r=this;return this.freeze(),_i("process",this.parser||this.Parser),zi("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(s,a){let l=tr(t),u=r.parse(l);r.run(u,l,function(f,d,p){if(f||!d||!p)return c(f);let h=d,y=r.stringify(h,p);Fd(y)?p.value=y:p.result=y,c(f,p)});function c(f,d){f||!d?a(f):s?s(d):n(void 0,d)}i(c,"realDone")}i(o,"executor")}processSync(t){let n=!1,r;return this.freeze(),_i("processSync",this.parser||this.Parser),zi("processSync",this.compiler||this.Compiler),this.process(t,o),Wa("processSync","process",n),r;function o(s,a){n=!0,Li(s),r=a}i(o,"realDone")}run(t,n,r){Va(t),this.freeze();let o=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){let u=tr(n);o.run(t,u,c);function c(f,d,p){let h=d||t;f?l(f):a?a(h):r(void 0,h,p)}i(c,"realDone")}i(s,"executor")}runSync(t,n){let r=!1,o;return this.run(t,n,s),Wa("runSync","run",r),o;function s(a,l){Li(a),o=l,r=!0}i(s,"realDone")}stringify(t,n){this.freeze();let r=tr(n),o=this.compiler||this.Compiler;return zi("stringify",o),Va(t),o(t,r)}use(t,...n){let r=this.attachers,o=this.namespace;if($i("use",this.frozen),t!=null)if(typeof t=="function")u(t,n);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){let[f,...d]=c;u(f,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(o.settings=(0,nr.default)(!0,o.settings,c.settings))}function l(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){let d=c[f];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,f){let d=-1,p=-1;for(;++d<r.length;)if(r[d][0]===c){p=d;break}if(p===-1)r.push([c,...f]);else if(f.length>0){let[h,...y]=f,C=r[p][1];nn(C)&&nn(h)&&(h=(0,nr.default)(!0,C,h)),r[p]=[c,h,...y]}}}},Wi=new Vi().freeze();function _i(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}i(_i,"assertParser");function zi(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}i(zi,"assertCompiler");function $i(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}i($i,"assertUnfrozen");function Va(e){if(!nn(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}i(Va,"assertNode");function Wa(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}i(Wa,"assertDone");function tr(e){return Td(e)?e:new rn(e)}i(tr,"vfile");function Td(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}i(Td,"looksLikeAVFile");function Fd(e){return typeof e=="string"||Pd(e)}i(Fd,"looksLikeAValue");function Pd(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}i(Pd,"isUint8Array");var Ua=Wi().use(Pt).use(Xn).freeze();var ji={d:i((e,t)=>{for(var n in t)ji.o(t,n)&&!ji.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},"d"),o:i((e,t)=>Object.prototype.hasOwnProperty.call(e,t),"o")},Hi={};ji.d(Hi,{Z:i(()=>Rd,"Z"),$:i(()=>qa,"$")});var Nt={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function ja(e){return e<Nt.nul||e===Nt.space}i(ja,"n");function Ui(e){return e<Nt.horizontalTab}i(Ui,"i");var Id={553:e=>{e.exports=function(t){var n,r;return t._compiled||(n=t.before?"(?:"+t.before+")":"",r=t.after?"(?:"+t.after+")":"",t.atBreak&&(n="[\\r\\n][\\t ]*"+n),t._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(r||""),"g")),t._compiled}},112:e=>{function t(n,r,o){var s;if(!r)return o;for(typeof r=="string"&&(r=[r]),s=-1;++s<r.length;)if(n.indexOf(r[s])!==-1)return!0;return!1}i(t,"t"),e.exports=function(n,r){return t(n,r.inConstruct,!0)&&!t(n,r.notInConstruct)}},113:(e,t,n)=>{e.exports=function(l,u,c){for(var f,d,p,h,y,C,x,b,k=(c.before||"")+(u||"")+(c.after||""),v=[],S=[],P={},w=-1;++w<l.unsafe.length;)if(h=l.unsafe[w],o(l.stack,h))for(y=r(h);C=y.exec(k);)f="before"in h||h.atBreak,d="after"in h,p=C.index+(f?C[1].length:0),v.indexOf(p)===-1?(v.push(p),P[p]={before:f,after:d}):(P[p].before&&!f&&(P[p].before=!1),P[p].after&&!d&&(P[p].after=!1));for(v.sort(s),x=c.before?c.before.length:0,b=k.length-(c.after?c.after.length:0),w=-1;++w<v.length;)(p=v[w])<x||p>=b||p+1<b&&v[w+1]===p+1&&P[p].after&&!P[p+1].before&&!P[p+1].after||(x!==p&&S.push(a(k.slice(x,p),"\\")),x=p,!/[!-/:-@[-`{-~]/.test(k.charAt(p))||c.encode&&c.encode.indexOf(k.charAt(p))!==-1?(S.push("&#x"+k.charCodeAt(p).toString(16).toUpperCase()+";"),x++):S.push("\\"));return S.push(a(k.slice(x,b),c.after)),S.join("")};var r=n(553),o=n(112);function s(l,u){return l-u}i(s,"a");function a(l,u){for(var c,f=/\\(?=[!-/:-@[-`{-~])/g,d=[],p=[],h=-1,y=0,C=l+u;c=f.exec(C);)d.push(c.index);for(;++h<d.length;)y!==d[h]&&p.push(l.slice(y,d[h])),p.push("\\"),y=d[h];return p.push(l.slice(y)),p.join("")}i(a,"o")}},Ha={};function Be(e){var t=Ha[e];if(t!==void 0)return t.exports;var n=Ha[e]={exports:{}};return Id[e](n,n.exports,Be),n.exports}i(Be,"s");Be.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return Be.d(t,{a:t}),t},Be.d=(e,t)=>{for(var n in t)Be.o(t,n)&&!Be.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},Be.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Ki={};(()=>{function e(o={}){let s=o.permalinks||[],a=o.pageResolver||(p=>[p.replace(/ /g,"_").toLowerCase()]),l=o.newClassName||"new",u=o.wikiLinkClassName||"internal",c=o.hrefTemplate||(p=>`#/page/${p}`),f;function d(p){return p[p.length-1]}return i(d,"s"),{enter:{wikiLink:i(function(p){f={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(f,p)},"wikiLink")},exit:{wikiLinkTarget:i(function(p){let h=this.sliceSerialize(p);d(this.stack).value=h},"wikiLinkTarget"),wikiLinkAlias:i(function(p){let h=this.sliceSerialize(p);d(this.stack).data.alias=h},"wikiLinkAlias"),wikiLink:i(function(p){this.exit(p);let h=f,y=a(h.value),C=y.find((S=>s.indexOf(S)!==-1)),x=C!==void 0,b;b=x?C:y[0]||"";let k=h.value;h.data.alias&&(k=h.data.alias);let v=u;x||(v+=" "+l),h.data.alias=k,h.data.permalink=b,h.data.exists=x,h.data.hName="a",h.data.hProperties={className:v,href:c(b)},h.data.hChildren=[{type:"text",value:k}]},"wikiLink")}}}i(e,"e"),Be.d(Ki,{V:i(()=>e,"V"),x:i(()=>r,"x")});var t=Be(113),n=Be.n(t);function r(o={}){let s=o.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:i(function(a,l,u){let c=u.enter("wikiLink"),f=n()(u,a.value,{before:"[",after:"]"}),d=n()(u,a.data.alias,{before:"[",after:"]"}),p;return p=d!==f?`[[${f}${s}${d}]]`:`[[${f}]]`,c(),p},"wikiLink")}}}i(r,"n")})();var Ld=Ki.V,Od=Ki.x,Ka=!1;function qa(e={}){let t=this.data();function n(r,o){t[r]?t[r].push(o):t[r]=[o]}i(n,"a"),!Ka&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Ka=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",o="]]";return{text:{91:{tokenize:i(function(s,a,l){var u,c,f=0,d=0,p=0;return function(k){return k!=="[[".charCodeAt(d)?l(k):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),h(k))};function h(k){return d===2?(s.exit("wikiLinkMarker"),(function(v){return Ui(v)||v===Nt.eof?l(v):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),y(v))})(k)):k!=="[[".charCodeAt(d)?l(k):(s.consume(k),d++,h)}function y(k){return k===r.charCodeAt(f)?u?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),C(k)):l(k):k===o.charCodeAt(p)?u?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),b(k)):l(k):Ui(k)||k===Nt.eof?l(k):(ja(k)||(u=!0),s.consume(k),y)}function C(k){return f===r.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),x(k)):k!==r.charCodeAt(f)?l(k):(s.consume(k),f++,C)}function x(k){return k===o.charCodeAt(p)?c?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),b(k)):l(k):Ui(k)||k===Nt.eof?l(k):(ja(k)||(c=!0),s.consume(k),x)}function b(k){return p===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),a(k)):k!==o.charCodeAt(p)?l(k):(s.consume(k),p++,b)}},"tokenize")}}}})(e)),n("fromMarkdownExtensions",Ld(e)),n("toMarkdownExtensions",Od(e))}i(qa,"k");var Rd=qa,Xx=Hi.Z,Ga=Hi.$;i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Nd=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function qi(e){if(/\s/.test(e))return!1;if(e.includes("://"))try{return new URL(e),!0}catch{return!1}return Nd.test(e)}i(qi,"isUrl");var on=require("obsidian");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function Gi(e){let t=(0,on.getFrontMatterInfo)(e);return(0,on.parseYaml)(t.frontmatter)??{}}i(Gi,"parseFrontmatter");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function pe(e){if(!de(e))return!1;let t=e;return t.startOffset!==void 0&&t.endOffset!==void 0}i(pe,"isFrontmatterLinkCacheWithOffsets");function Ji(e){return pe(e)?e:{...e,endOffset:e.original.length,startOffset:0}}i(Ji,"toFrontmatterLinkCacheWithOffsets");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function Yi(e){return sn(e)&&e.type==="file"}i(Yi,"isCanvasFileNodeReference");function sn(e){return de(e)&&!!e.isCanvas}i(sn,"isCanvasReference");function Ja(e){return sn(e)&&e.type==="text"}i(Ja,"isCanvasTextNodeReference");function rr(e){return e.sort((t,n)=>{if(de(t)&&de(n)){let r=pe(t)?t.startOffset:0,o=pe(n)?n.startOffset:0;return t.key.localeCompare(n.key)||Number(pe(n))-Number(pe(t))||r-o}return Se(t)&&Se(n)?t.position.start.offset-n.position.start.offset:de(t)?1:-1})}i(rr,"sortReferences");var ml=require("obsidian");var pl=require("obsidian");var O=i(e=>typeof e=="string","isString"),an=i(()=>{let e,t,n=new Promise((r,o)=>{e=r,t=o});return n.resolve=e,n.reject=t,n},"defer"),Ya=i(e=>e==null?"":""+e,"makeString"),Dd=i((e,t,n)=>{e.forEach(r=>{t[r]&&(n[r]=t[r])})},"copy"),Md=/###/g,Qa=i(e=>e&&e.indexOf("###")>-1?e.replace(Md,"."):e,"cleanKey"),Xa=i(e=>!e||O(e),"canNotTraverseDeeper"),ln=i((e,t,n)=>{let r=O(t)?t.split("."):t,o=0;for(;o<r.length-1;){if(Xa(e))return{};let s=Qa(r[o]);!e[s]&&n&&(e[s]=new n),Object.prototype.hasOwnProperty.call(e,s)?e=e[s]:e={},++o}return Xa(e)?{}:{obj:e,k:Qa(r[o])}},"getLastOfPath"),Za=i((e,t,n)=>{let{obj:r,k:o}=ln(e,t,Object);if(r!==void 0||t.length===1){r[o]=n;return}let s=t[t.length-1],a=t.slice(0,t.length-1),l=ln(e,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=ln(e,a,Object),l?.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},"setPath"),Bd=i((e,t,n,r)=>{let{obj:o,k:s}=ln(e,t,Object);o[s]=o[s]||[],o[s].push(n)},"pushPath"),or=i((e,t)=>{let{obj:n,k:r}=ln(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},"getPath"),_d=i((e,t,n)=>{let r=or(e,n);return r!==void 0?r:or(t,n)},"getPathWithDefaults"),sl=i((e,t,n)=>{for(let r in t)r!=="__proto__"&&r!=="constructor"&&(r in e?O(e[r])||e[r]instanceof String||O(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):sl(e[r],t[r],n):e[r]=t[r]);return e},"deepExtend"),Dt=i(e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),zd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},$d=i(e=>O(e)?e.replace(/[&<>"'\/]/g,t=>zd[t]):e,"escape"),eo=class{static{i(this,"RegExpCache")}constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){let n=this.regExpMap.get(t);if(n!==void 0)return n;let r=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,r),this.regExpQueue.push(t),r}},Vd=[" ",",","?","!",";"],Wd=new eo(20),Ud=i((e,t,n)=>{t=t||"",n=n||"";let r=Vd.filter(a=>t.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;let o=Wd.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`),s=!o.test(e);if(!s){let a=e.indexOf(n);a>0&&!o.test(e.substring(0,a))&&(s=!0)}return s},"looksLikeObjectPath"),to=i((e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;let r=t.split(n),o=e;for(let s=0;s<r.length;){if(!o||typeof o!="object")return;let a,l="";for(let u=s;u<r.length;++u)if(u!==s&&(l+=n),l+=r[u],a=o[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<r.length-1)continue;s+=u-s+1;break}o=a}return o},"deepFind"),un=i(e=>e?.replace("_","-"),"getCleanedCode"),jd={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}},no=class e{static{i(this,"Logger")}constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||jd,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,r,o){return o&&!this.debug?null:(O(t[0])&&(t[0]=`${r}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new e(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new e(this.logger,t)}},_e=new no,Mt=class{static{i(this,"EventEmitter")}constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let o=this.observers[r].get(n)||0;this.observers[r].set(n,o+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([o,s])=>{for(let a=0;a<s;a++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,s])=>{for(let a=0;a<s;a++)o.apply(o,[t,...n])})}},sr=class extends Mt{static{i(this,"ResourceStore")}constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){let n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,r,o={}){let s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,a=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure,l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],r&&(Array.isArray(r)?l.push(...r):O(r)&&s?l.push(...r.split(s)):l.push(r)));let u=or(this.data,l);return!u&&!n&&!r&&t.indexOf(".")>-1&&(t=l[0],n=l[1],r=l.slice(2).join(".")),u||!a||!O(r)?u:to(this.data?.[t]?.[n],r,s)}addResource(t,n,r,o,s={silent:!1}){let a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=[t,n];r&&(l=l.concat(a?r.split(a):r)),t.indexOf(".")>-1&&(l=t.split("."),o=n,n=l[1]),this.addNamespaces(n),Za(this.data,l,o),s.silent||this.emit("added",t,n,r,o)}addResources(t,n,r,o={silent:!1}){for(let s in r)(O(r[s])||Array.isArray(r[s]))&&this.addResource(t,n,s,r[s],{silent:!0});o.silent||this.emit("added",t,n,r)}addResourceBundle(t,n,r,o,s,a={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),o=r,r=n,n=l[1]),this.addNamespaces(n);let u=or(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?sl(u,r,s):u={...u,...r},Za(this.data,l,u),a.silent||this.emit("added",t,n,r)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){let n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}},al={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,o){return e.forEach(s=>{t=this.processors[s]?.process(t,n,r,o)??t}),t}},ll=Symbol("i18next/PATH_KEY");function Hd(){let e=[],t=Object.create(null),n;return t.get=(r,o)=>(n?.revoke?.(),o===ll?e:(e.push(o),n=Proxy.revocable(r,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}i(Hd,"createProxy");function ro(e,t){let{[ll]:n}=e(Hd());return n.join(t?.keySeparator??".")}i(ro,"keysFromSelector");var el={},Qi=i(e=>!O(e)&&typeof e!="boolean"&&typeof e!="number","shouldHandleAsObject"),ar=class e extends Mt{static{i(this,"Translator")}constructor(t,n={}){super(),Dd(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=_e.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){let r={...n};if(t==null)return!1;let o=this.resolve(t,r);if(o?.res===void 0)return!1;let s=Qi(o.res);return!(r.returnObjects===!1&&s)}extractFromKey(t,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,s=n.ns||this.options.defaultNS||[],a=r&&t.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ud(t,r,o);if(a&&!l){let u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:t,namespaces:O(s)?[s]:s};let c=t.split(r);(r!==o||r===o&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),t=c.join(o)}return{key:t,namespaces:O(s)?[s]:s}}translate(t,n,r){let o=typeof n=="object"?{...n}:n;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof o=="object"&&(o={...o}),o||(o={}),t==null)return"";typeof t=="function"&&(t=ro(t,{...this.options,...o})),Array.isArray(t)||(t=[String(t)]);let s=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(t[t.length-1],o),c=u[u.length-1],f=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");let d=o.lng||this.language,p=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return p?s?{res:`${c}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:`${c}${f}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(o)}:l;let h=this.resolve(t,o),y=h?.res,C=h?.usedKey||l,x=h?.exactUsedKey||l,b=["[object Number]","[object Function]","[object RegExp]"],k=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,S=o.count!==void 0&&!O(o.count),P=e.hasDefaultValue(o),w=S?this.pluralResolver.getSuffix(d,o.count,o):"",B=o.ordinal&&S?this.pluralResolver.getSuffix(d,o.count,{ordinal:!1}):"",W=S&&!o.ordinal&&o.count===0,R=W&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${w}`]||o[`defaultValue${B}`]||o.defaultValue,z=y;v&&!y&&P&&(z=R);let Q=Qi(z),V=Object.prototype.toString.apply(z);if(v&&z&&Q&&b.indexOf(V)<0&&!(O(k)&&Array.isArray(z))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(C,z,{...o,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(h.res=T,h.usedParams=this.getUsedParamsDetails(o),h):T}if(a){let T=Array.isArray(z),I=T?[]:{},L=T?x:C;for(let _ in z)if(Object.prototype.hasOwnProperty.call(z,_)){let U=`${L}${a}${_}`;P&&!y?I[_]=this.translate(U,{...o,defaultValue:Qi(R)?R[_]:void 0,joinArrays:!1,ns:u}):I[_]=this.translate(U,{...o,joinArrays:!1,ns:u}),I[_]===U&&(I[_]=z[_])}y=I}}else if(v&&O(k)&&Array.isArray(y))y=y.join(k),y&&(y=this.extendTranslation(y,t,o,r));else{let T=!1,I=!1;!this.isValidLookup(y)&&P&&(T=!0,y=R),this.isValidLookup(y)||(I=!0,y=l);let _=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&I?void 0:y,U=P&&R!==y&&this.options.updateMissing;if(I||T||U){if(this.logger.log(U?"updateKey":"missingKey",d,c,l,U?R:y),a){let H=this.resolve(l,{...o,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[],se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&se&&se[0])for(let H=0;H<se.length;H++)X.push(se[H]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(o.lng||this.language):X.push(o.lng||this.language);let m=i((H,Z,g)=>{let ne=P&&g!==y?g:_;this.options.missingKeyHandler?this.options.missingKeyHandler(H,c,Z,ne,U,o):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(H,c,Z,ne,U,o),this.emit("missingKey",H,c,Z,y)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&S?X.forEach(H=>{let Z=this.pluralResolver.getSuffixes(H,o);W&&o[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(g=>{m([H],l+g,o[`defaultValue${g}`]||R)})}):m(X,l,R))}y=this.extendTranslation(y,t,o,h,r),I&&y===l&&this.options.appendNamespaceToMissingKey&&(y=`${c}${f}${l}`),(I||T)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${f}${l}`:l,T?y:void 0,o))}return s?(h.res=y,h.usedParams=this.getUsedParamsDetails(o),h):y}extendTranslation(t,n,r,o,s){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let u=O(t)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(u){let d=t.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&!O(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),t=this.interpolator.interpolate(t,f,r.lng||this.language||o.usedLng,r),u){let d=t.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(t=this.interpolator.nest(t,(...d)=>s?.[0]===d[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${n[0]}`),null):this.translate(...d,n),r)),r.interpolation&&this.interpolator.reset()}let a=r.postProcess||this.options.postProcess,l=O(a)?[a]:a;return t!=null&&l?.length&&r.applyPostProcessor!==!1&&(t=al.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),t}resolve(t,n={}){let r,o,s,a,l;return O(t)&&(t=[t]),t.forEach(u=>{if(this.isValidLookup(r))return;let c=this.extractFromKey(u,n),f=c.key;o=f;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let p=n.count!==void 0&&!O(n.count),h=p&&!n.ordinal&&n.count===0,y=n.context!==void 0&&(O(n.context)||typeof n.context=="number")&&n.context!=="",C=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(x=>{this.isValidLookup(r)||(l=x,!el[`${C[0]}-${x}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(el[`${C[0]}-${x}`]=!0,this.logger.warn(`key "${o}" for languages "${C.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),C.forEach(b=>{if(this.isValidLookup(r))return;a=b;let k=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,f,b,x,n);else{let S;p&&(S=this.pluralResolver.getSuffix(b,n.count,n));let P=`${this.options.pluralSeparator}zero`,w=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(n.ordinal&&S.indexOf(w)===0&&k.push(f+S.replace(w,this.options.pluralSeparator)),k.push(f+S),h&&k.push(f+P)),y){let B=`${f}${this.options.contextSeparator||"_"}${n.context}`;k.push(B),p&&(n.ordinal&&S.indexOf(w)===0&&k.push(B+S.replace(w,this.options.pluralSeparator)),k.push(B+S),h&&k.push(B+P))}}let v;for(;v=k.pop();)this.isValidLookup(r)||(s=v,r=this.getResource(b,x,v,n))}))})}),{res:r,usedKey:o,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,r,o={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,r,o):this.resourceStore.getResource(t,n,r,o)}getUsedParamsDetails(t={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=t.replace&&!O(t.replace),o=r?t.replace:t;if(r&&typeof t.count<"u"&&(o.count=t.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(let s of n)delete o[s]}return o}static hasDefaultValue(t){let n="defaultValue";for(let r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&t[r]!==void 0)return!0;return!1}},lr=class{static{i(this,"LanguageUtil")}constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_e.create("languageUtils")}getScriptPartFromCode(t){if(t=un(t),!t||t.indexOf("-")<0)return null;let n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=un(t),!t||t.indexOf("-")<0)return t;let n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(O(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(r=>{if(n)return;let o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&t.forEach(r=>{if(n)return;let o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return n=o;let s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),O(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let r=t[n];return r||(r=t[this.getScriptPartFromCode(n)]),r||(r=t[this.formatLanguageCode(n)]),r||(r=t[this.getLanguagePartFromCode(n)]),r||(r=t.default),r||[]}toResolveHierarchy(t,n){let r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),o=[],s=i(a=>{a&&(this.isSupportedCode(a)?o.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))},"addCode");return O(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):O(t)&&s(this.formatLanguageCode(t)),r.forEach(a=>{o.indexOf(a)<0&&s(this.formatLanguageCode(a))}),o}},tl={zero:0,one:1,two:2,few:3,many:4,other:5},nl={select:i(e=>e===1?"one":"other","select"),resolvedOptions:i(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},io=class{static{i(this,"PluralResolver")}constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=_e.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){let r=un(t==="dev"?"en":t),o=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:o});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),nl;if(!t.match(/-|_/))return nl;let u=this.languageUtils.getLanguagePartFromCode(t);a=this.getRule(u,n)}return this.pluralRulesCache[s]=a,a}needsPlural(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,r={}){return this.getSuffixes(t,r).map(o=>`${n}${o}`)}getSuffixes(t,n={}){let r=this.getRule(t,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((o,s)=>tl[o]-tl[s]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(t,n,r={}){let o=this.getRule(t,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,r))}},rl=i((e,t,n,r=".",o=!0)=>{let s=_d(e,t,n);return!s&&o&&O(n)&&(s=to(e,n,r),s===void 0&&(s=to(t,n,r))),s},"deepFindWithDefaults"),Xi=i(e=>e.replace(/\$/g,"$$$$"),"regexSafe"),ur=class{static{i(this,"Interpolator")}constructor(t={}){this.logger=_e.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});let{escape:n,escapeValue:r,useRawValueToEscape:o,prefix:s,prefixEscaped:a,suffix:l,suffixEscaped:u,formatSeparator:c,unescapeSuffix:f,unescapePrefix:d,nestingPrefix:p,nestingPrefixEscaped:h,nestingSuffix:y,nestingSuffixEscaped:C,nestingOptionsSeparator:x,maxReplaces:b,alwaysFormat:k}=t.interpolation;this.escape=n!==void 0?n:$d,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=s?Dt(s):a||"{{",this.suffix=l?Dt(l):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=f?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=p?Dt(p):h||Dt("$t("),this.nestingSuffix=y?Dt(y):C||Dt(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=b||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let t=i((n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,r,o){let s,a,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=i(h=>{if(h.indexOf(this.formatSeparator)<0){let b=rl(n,u,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,r,{...o,...n,interpolationkey:h}):b}let y=h.split(this.formatSeparator),C=y.shift().trim(),x=y.join(this.formatSeparator).trim();return this.format(rl(n,u,C,this.options.keySeparator,this.options.ignoreJSONStructure),x,r,{...o,...n,interpolationkey:C})},"handleFormat");this.resetRegExp();let f=o?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:i(h=>Xi(h),"safeValue")},{regex:this.regexp,safeValue:i(h=>this.escapeValue?Xi(this.escape(h)):Xi(h),"safeValue")}].forEach(h=>{for(l=0;s=h.regex.exec(t);){let y=s[1].trim();if(a=c(y),a===void 0)if(typeof f=="function"){let x=f(t,s,o);a=O(x)?x:""}else if(o&&Object.prototype.hasOwnProperty.call(o,y))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${t}`),a="";else!O(a)&&!this.useRawValueToEscape&&(a=Ya(a));let C=h.safeValue(a);if(t=t.replace(s[0],C),d?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=s[0].length):h.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,r={}){let o,s,a,l=i((u,c)=>{let f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;let d=u.split(new RegExp(`${f}[ ]*{`)),p=`{${d[1]}`;u=d[0],p=this.interpolate(p,a);let h=p.match(/'/g),y=p.match(/"/g);((h?.length??0)%2===0&&!y||y.length%2!==0)&&(p=p.replace(/'/g,'"'));try{a=JSON.parse(p),c&&(a={...c,...a})}catch(C){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,C),`${u}${f}${p}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u},"handleHasOptions");for(;o=this.nestingRegexp.exec(t);){let u=[];a={...r},a=a.replace&&!O(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(c!==-1&&(u=o[1].slice(c).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),o[1]=o[1].slice(0,c)),s=n(l.call(this,o[1].trim(),a),a),s&&o[0]===t&&!O(s))return s;O(s)||(s=Ya(s)),s||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${t}`),s=""),u.length&&(s=u.reduce((f,d)=>this.format(f,d,r.lng,{...r,interpolationkey:o[1].trim()}),s.trim())),t=t.replace(o[0],s),this.regexp.lastIndex=0}return t}},Kd=i(e=>{let t=e.toLowerCase().trim(),n={};if(e.indexOf("(")>-1){let r=e.split("(");t=r[0].toLowerCase().trim();let o=r[1].substring(0,r[1].length-1);t==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):t==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(a=>{if(a){let[l,...u]=a.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();n[f]||(n[f]=c),c==="false"&&(n[f]=!1),c==="true"&&(n[f]=!0),isNaN(c)||(n[f]=parseInt(c,10))}})}return{formatName:t,formatOptions:n}},"parseFormatStr"),il=i(e=>{let t={};return(n,r,o)=>{let s=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(s={...s,[o.interpolationkey]:void 0});let a=r+JSON.stringify(s),l=t[a];return l||(l=e(un(r),o),t[a]=l),l(n)}},"createCachedFormatter"),qd=i(e=>(t,n,r)=>e(un(n),r)(t),"createNonCachedFormatter"),oo=class{static{i(this,"Formatter")}constructor(t={}){this.logger=_e.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let r=n.cacheInBuiltFormats?il:qd;this.formats={number:r((o,s)=>{let a=new Intl.NumberFormat(o,{...s});return l=>a.format(l)}),currency:r((o,s)=>{let a=new Intl.NumberFormat(o,{...s,style:"currency"});return l=>a.format(l)}),datetime:r((o,s)=>{let a=new Intl.DateTimeFormat(o,{...s});return l=>a.format(l)}),relativetime:r((o,s)=>{let a=new Intl.RelativeTimeFormat(o,{...s});return l=>a.format(l,s.range||"day")}),list:r((o,s)=>{let a=new Intl.ListFormat(o,{...s});return l=>a.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=il(n)}format(t,n,r,o={}){let s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){let l=s.findIndex(u=>u.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,u)=>{let{formatName:c,formatOptions:f}=Kd(u);if(this.formats[c]){let d=l;try{let p=o?.formatParams?.[o.interpolationkey]||{},h=p.locale||p.lng||o.locale||o.lng||r;d=this.formats[c](l,h,{...f,...o,...p})}catch(p){this.logger.warn(p)}return d}else this.logger.warn(`there was no format function for ${c}`);return l},t)}},Gd=i((e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)},"removePending"),so=class extends Mt{static{i(this,"Connector")}constructor(t,n,r,o={}){super(),this.backend=t,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=_e.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,o.backend,o)}queueLoad(t,n,r,o){let s={},a={},l={},u={};return t.forEach(c=>{let f=!0;n.forEach(d=>{let p=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?a[p]===void 0&&(a[p]=!0):(this.state[p]=1,f=!1,a[p]===void 0&&(a[p]=!0),s[p]===void 0&&(s[p]=!0),u[d]===void 0&&(u[d]=!0)))}),f||(l[c]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(t,n,r){let o=t.split("|"),s=o[0],a=o[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&r&&(this.state[t]=0);let l={};this.queue.forEach(u=>{Bd(u.loaded,[s],a),Gd(u,t),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{l[c]||(l[c]={});let f=u.loaded[c];f.length&&f.forEach(d=>{l[c][d]===void 0&&(l[c][d]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(t,n,r,o=0,s=this.retryTimeout,a){if(!t.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:r,tried:o,wait:s,callback:a});return}this.readingCalls++;let l=i((c,f)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&f&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,r,o+1,s*2,a)},s);return}a(c,f)},"resolver"),u=this.backend[r].bind(this.backend);if(u.length===2){try{let c=u(t,n);c&&typeof c.then=="function"?c.then(f=>l(null,f)).catch(l):l(null,c)}catch(c){l(c)}return}return u(t,n,l)}prepareLoading(t,n,r={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();O(t)&&(t=this.languageUtils.toResolveHierarchy(t)),O(n)&&(n=[n]);let s=this.queueLoad(t,n,r,o);if(!s.toLoad.length)return s.pending.length||o(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(t,n,r){this.prepareLoading(t,n,{},r)}reload(t,n,r){this.prepareLoading(t,n,{reload:!0},r)}loadOne(t,n=""){let r=t.split("|"),o=r[0],s=r[1];this.read(o,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${o} failed`,a),!a&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${o}`,l),this.loaded(t,a,l)})}saveMissing(t,n,r,o,s,a={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let u={...a,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let f;c.length===5?f=c(t,n,r,o,u):f=c(t,n,r,o),f&&typeof f.then=="function"?f.then(d=>l(null,d)).catch(l):l(null,f)}catch(f){l(f)}else c(t,n,r,o,l,u)}!t||!t[0]||this.store.addResource(t[0],n,r,o)}}},Zi=i(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i(e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),O(e[1])&&(t.defaultValue=e[1]),O(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){let n=e[3]||e[2];Object.keys(n).forEach(r=>{t[r]=n[r]})}return t},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:i(e=>e,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),ol=i(e=>(O(e.ns)&&(e.ns=[e.ns]),O(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),O(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),"transformOptions"),ir=i(()=>{},"noop"),Jd=i(e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})},"bindMemberFunctions"),ao=class e extends Mt{static{i(this,"I18n")}constructor(t={},n){if(super(),this.options=ol(t),this.services={},this.logger=_e,this.modules={external:[]},Jd(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(O(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));let r=Zi();this.options={...r,...this.options,...ol(t)},this.options.interpolation={...r.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);let o=i(c=>c?typeof c=="function"?new c:c:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?_e.init(o(this.modules.logger),this.options):_e.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=oo;let f=new lr(this.options);this.store=new sr(this.options.resources,this.options);let d=this.services;d.logger=_e,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new io(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=o(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new ur(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new so(o(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(h,...y)=>{this.emit(h,...y)}),this.modules.languageDetector&&(d.languageDetector=o(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=o(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ar(this.services,this.options),this.translator.on("*",(h,...y)=>{this.emit(h,...y)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ir),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...f)=>this.store[c](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...f)=>(this.store[c](...f),this)});let l=an(),u=i(()=>{let c=i((f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)},"finish");if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)},"load");return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(t,n=ir){let r=n,o=O(t)?t:this.language;if(typeof t=="function"&&(r=t),!this.options.resources||this.options.partialBundledLanguages){if(o?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let s=[],a=i(l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})},"append");o?a(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload?.forEach?.(l=>a(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(t,n,r){let o=an();return typeof t=="function"&&(r=t,t=void 0),typeof n=="function"&&(r=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),r||(r=ir),this.services.backendConnector.reload(t,n,s=>{o.resolve(),r(s)}),o}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&al.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){let r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;let r=an();this.emit("languageChanging",t);let o=i(l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},"setLngProps"),s=i((l,u)=>{u?this.isLanguageChangingTo===t&&(o(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(l,(...c)=>this.t(...c))},"done"),a=i(l=>{!t&&!l&&this.services.languageDetector&&(l=[]);let u=O(l)?l:l&&l[0],c=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(O(l)?[l]:l);c&&(this.language||o(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,f=>{s(f,c)})},"setLng");return!t&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(t),r}getFixedT(t,n,r){let o=i((s,a,...l)=>{let u;typeof a!="object"?u=this.options.overloadTranslationOptionHandler([s,a].concat(l)):u={...a},u.lng=u.lng||o.lng,u.lngs=u.lngs||o.lngs,u.ns=u.ns||o.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||o.keyPrefix);let c=this.options.keySeparator||".",f;return u.keyPrefix&&Array.isArray(s)?f=s.map(d=>(typeof d=="function"&&(d=ro(d,{...this.options,...a})),`${u.keyPrefix}${c}${d}`)):(typeof s=="function"&&(s=ro(s,{...this.options,...a})),f=u.keyPrefix?`${u.keyPrefix}${c}${s}`:s),this.t(f,u)},"fixedT");return O(t)?o.lng=t:o.lngs=t,o.ns=n,o.keyPrefix=r,o}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let a=i((l,u)=>{let c=this.services.backendConnector.state[`${l}|${u}`];return c===-1||c===0||c===2},"loadNotPending");if(n.precheck){let l=n.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,t)&&(!o||a(s,t)))}loadNamespaces(t,n){let r=an();return this.options.ns?(O(t)&&(t=[t]),t.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(t,n){let r=an();O(t)&&(t=[t]);let o=this.options.preload||[],s=t.filter(a=>o.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=o.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{let o=new Intl.Locale(t);if(o&&o.getTextInfo){let s=o.getTextInfo();if(s&&s.direction)return s.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new lr(Zi());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){let r=new e(t,n);return r.createInstance=e.createInstance,r}cloneInstance(t={},n=ir){let r=t.forkResourceStore;r&&delete t.forkResourceStore;let o={...this.options,...t,isClone:!0},s=new e(o);if((t.debug!==void 0||t.prefix!==void 0)&&(s.logger=s.logger.clone(t)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){let l=Object.keys(this.store.data).reduce((u,c)=>(u[c]={...this.store.data[c]},u[c]=Object.keys(u[c]).reduce((f,d)=>(f[d]={...u[c][d]},f),u[c]),u),{});s.store=new sr(l,o),s.services.resourceStore=s.store}if(t.interpolation){let u={...Zi().interpolation,...this.options.interpolation,...t.interpolation},c={...o,interpolation:u};s.services.interpolator=new ur(c)}return s.translator=new ar(s.services,o),s.translator.on("*",(l,...u)=>{s.emit(l,...u)}),s.init(o,n),s.translator.options=o,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},ie=ao.createInstance(),hA=ie.createInstance,mA=ie.dir,ul=ie.init,gA=ie.loadResources,yA=ie.reloadResources,bA=ie.use,wA=ie.changeLanguage,kA=ie.getFixedT,cl=ie.t,xA=ie.exists,AA=ie.setDefaultNamespace,CA=ie.hasLoadedNamespace,vA=ie.loadNamespaces,EA=ie.loadLanguages;var dl=require("obsidian");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var cr={obsidianDevUtils:{asyncWithNotice:{milliseconds:"milliseconds...",operation:"Operation",runningFor:"Running for",terminateOperation:"You can terminate the operation by clicking the button below, but be aware it might leave the vault in an inconsistent state.",timedOut:"The operation timed out after {{duration}} milliseconds."},buttons:{cancel:"Cancel",ok:"OK"},callout:{loadContent:"Load content for callout"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:",pageHeader:"Page {{pageNumber}} of {{totalPages}}, Total items: {{totalItems}}"},metadataCache:{getBacklinksForFilePath:"Get backlinks for {{filePath}}"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."},queue:{flushQueue:"Flush queue"},renameDeleteHandler:{handleDelete:"Handle delete: {{filePath}}",handleOrphanedRenames:"Handle orphaned renames",handleRename:"Handle rename: {{oldPath}} -> {{newPath}}",updatedLinks:"Updated {{linksCount}} links in {{filesCount}} files."},vault:{processFile:"Process file {{filePath}}"}}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var lo="en",Yd={en:cr},fr=Yd;i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var fl="translation",uo=!1;async function co(e,t=!0){uo||(uo=!0,await ul({fallbackLng:lo,initAsync:t,interpolation:{escapeValue:!1},lng:(0,dl.getLanguage)(),resources:Object.fromEntries(Object.entries(e).map(([n,r])=>[n,{[fl]:r}])),returnEmptyString:!1,returnNull:!1}),ie.addResourceBundle(lo,fl,cr,!0,!1))}i(co,"initI18N");function Qd(e,t){return uo||(console.warn("I18N was not initialized, initializing default obsidian-dev-utils translations"),q(()=>co(fr,!1))),cl(e,t)}i(Qd,"tImpl");var ke=Qd;i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();async function fo(e){return rs({...e,onTimeout:e.shouldShowTimeoutNotice?Xd:Zd})}i(fo,"retryWithTimeoutNotice");function Xd(e){let t=Math.trunc(performance.now()-e.duration),n,r,o=1e3,s=new pl.Notice(createFragment(l=>{e.operationName&&(l.appendText(ke(c=>c.obsidianDevUtils.asyncWithNotice.operation)),l.appendText(": "),l.appendText(e.operationName),l.createEl("br")),l.appendText(ke(c=>c.obsidianDevUtils.asyncWithNotice.timedOut,{duration:e.duration})),l.createEl("br"),l.appendText(ke(c=>c.obsidianDevUtils.asyncWithNotice.runningFor)),l.appendText(" "),n=l.createSpan(),l.appendText(" "),l.appendText(ke(c=>c.obsidianDevUtils.asyncWithNotice.milliseconds)),l.createEl("br"),l.appendText(ke(c=>c.obsidianDevUtils.asyncWithNotice.terminateOperation)),l.createEl("br"),l.createEl("button",{text:ke(c=>c.obsidianDevUtils.buttons.cancel)}).addEventListener("click",()=>{e.terminateOperation(),clearInterval(r),s.hide()})}));a(),r=window.setInterval(a,o),e.onOperationCompleted(()=>{clearInterval(r),s.hide()});function a(){let l=Math.max(e.duration,Math.round((performance.now()-t)/o)*o);n.textContent=String(l)}i(a,"updateRunningTime")}i(Xd,"onTimeoutNotice");function Zd(e){let t=Math.trunc(performance.now()-e.duration);e.onOperationCompleted(()=>{xt("AsyncWithNotice:onTimeoutWithoutNotice")("Operation completed after timeout",{operationName:e.operationName,totalDuration:Math.trunc(performance.now()-t)})})}i(Zd,"onTimeoutWithoutNotice");var hl=require("@codemirror/state"),ep=require("@codemirror/view");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function gl(e){return e.vault.getMarkdownFiles().sort((t,n)=>t.path.localeCompare(n.path))}i(gl,"getMarkdownFilesSorted");async function yl(e,t){let n=null;return await tp(e,t,async r=>{await dr(e,r),n=await e.vault.read(r)}),n}i(yl,"readSafe");async function dr(e,t){if(!Zr(e,t))return;let n=Me(e,t);for(let r of e.workspace.getLeavesOfType(Ct.Markdown))r.view instanceof ml.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}i(dr,"saveNote");async function tp(e,t,n){let r=Me(e,t),o=De(e,r);if(!o||o.deleted)return!1;try{return await n(o),!0}catch(s){if(o=De(e,r),!o||o.deleted)return!1;throw s}}i(tp,"invokeFileActionSafe");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();async function bl(e){await new Promise(t=>{e.metadataCache.onCleanCache(t)})}i(bl,"ensureMetadataCacheReady");function cn(e){let t=[];return e.links&&t.push(...e.links),e.embeds&&t.push(...e.embeds),e.frontmatterLinks&&t.push(...e.frontmatterLinks),rr(t),t=t.filter((n,r)=>{if(r===0)return!0;let o=t[r-1];if(!o)return!0;if(Se(n)&&Se(o))return n.position.start.offset!==o.position.start.offset;if(de(n)&&de(o)){let s=pe(n)?n.startOffset:0,a=pe(o)?o.startOffset:0;return n.key!==o.key||pe(n)!==pe(o)||s!==a}return!0}),t}i(cn,"getAllLinks");function rp(e,t){let n=ot(e,t,!0);return wl(e,[n],()=>e.metadataCache.getBacklinksForFile(n))}i(rp,"getBacklinksForFileOrPath");async function po(e,t,n={}){let r=e.metadataCache.getBacklinksForFile.safe;if(r)return r(t);let o=new Pn;return await fo({async operationFn(s){s.throwIfAborted();let a=ot(e,t);await bl(e),s.throwIfAborted(),o=rp(e,a);for(let l of o.keys()){s.throwIfAborted();let u=De(e,l);if(!u)return!1;await dr(e,u),s.throwIfAborted();let c=await yl(e,u);if(s.throwIfAborted(),!c)return!1;let f=Gi(c),d=o.get(l);if(!d)return!1;for(let p of d){let h;if(Se(p))h=c.slice(p.position.start.offset,p.position.end.offset);else if(de(p)){let y=Gr(f,p.key);if(typeof y!="string")return!1;let C=Ji(p);h=y.slice(C.startOffset,C.endOffset)}else return!0;if(h!==p.original)return!1}}return!0},operationName:ke(s=>s.obsidianDevUtils.metadataCache.getBacklinksForFilePath,{filePath:Me(e,t)}),retryOptions:n,shouldShowTimeoutNotice:n.shouldShowTimeoutNotice??!0}),o}i(po,"getBacklinksForFileSafe");async function ho(e,t){let n=De(e,t);try{if(!n)return null;if(n.deleted)return e.metadataCache.getFileCache(n);await dr(e,n);let r=e.metadataCache.fileCache[n.path];return r?.mtime===n.stat.mtime&&r.size===n.stat.size&&e.metadataCache.metadataCache[r.hash]||(await e.metadataCache.computeFileMetadataAsync(n),await bl(e)),e.metadataCache.getFileCache(n)}catch(r){if(!n||n.deleted)return null;throw r}}i(ho,"getCacheSafe");async function mo(e,t){let r=new TextEncoder().encode(t).buffer;return await e.metadataCache.computeMetadataAsync(r)??{}}i(mo,"parseMetadata");function ip(e,t){let n=kl(e);for(let r of t)for(;r.deleted;){let o=n.get(r.path)??0;o++,n.set(r.path,o),e.vault.fileMap[r.path]=r,Et(r)&&e.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r),r=Rn(e,it(r.path),!0)}}i(ip,"registerFiles");function wl(e,t,n){try{return ip(e,t),n()}finally{op(e,t)}}i(wl,"tempRegisterFilesAndRun");function op(e,t){let n=kl(e);for(let r of t)for(;r.deleted;){let o=n.get(r.path)??1;o--,n.set(r.path,o),o===0&&(n.delete(r.path),delete e.vault.fileMap[r.path],Et(r)&&e.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)),r=Rn(e,it(r.path),!0)}}i(op,"unregisterFiles");function kl(e){return Ke(e,"registeredFilesCounts",new Map).value}i(kl,"getRegisteredFilesCounts");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var sp=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g;var Al="|";function Cl(e){return Oe(e,sp,({substring:t})=>encodeURIComponent(t))}i(Cl,"encodeUrl");function vl(e,t,n,r=!1){let{linkPath:o}=go(t.link),s=Me(e,n),a=e.metadataCache.getFirstLinkpathDest(o,s);if(a)return a;if(!r)return null;if(o.startsWith("/"))return ot(e,o,!0);let l=Xr(Qr(s),`./${o}`);return l.startsWith("../")?null:ot(e,l,!0)}i(vl,"extractLinkFile");function El(e){return Sl(e.frontmatter,"",e)}i(El,"fixFrontmatterMarkdownLinks");function ap(e){let t=lp(e);return t[0]?.raw===e?t[0]:null}i(ap,"parseLink");function lp(e){let t=new Set,n="![",r="@[",o="@",a=Oe(e,/\[(?<LinkAlias>!\[.*?\]\(.+?\))\]\((?<Link>.+?)\)/g,(h,y,C)=>`[${o.repeat(y.length)}](${C})`),l=Oe(a,n,h=>(t.add(h.offset),r)),c=Ua().use(Pt).use(Ga,{aliasDivider:Al}).parse(l),f=[],d=[];tn(c,h=>{let y;switch(h.type){case"link":y=pp(h,e);break;case"wikiLink":y=hp(h,e);break;default:return}t.has(y.startOffset-1)&&(y.isEmbed=!0,y.startOffset--,y.raw=`!${y.raw}`),f.push(y)}),f.sort((h,y)=>h.startOffset-y.startOffset);let p=0;for(let h of f)xl(e,p,h.startOffset-1,d),p=h.endOffset+1;return xl(e,p,e.length-1,d),f.push(...d),f.sort((h,y)=>h.startOffset-y.startOffset),f}i(lp,"parseLinks");function go(e){let t=(0,pr.parseLinktext)(es(e));return{linkPath:t.path,subpath:t.subpath}}i(go,"splitSubpath");function up(e){return Oe(e,/(?<Backslashes>\\+)(?<SpecialCharacter>[!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~])/g,(t,n,r)=>{let s=n.length,a=Math.floor(s/2);return"\\".repeat(a)+r})}i(up,"unescapeAlias");function Sl(e,t,n){if(typeof e=="string"){let o=ap(e);if(!o||o.isWikilink||o.isExternal)return!1;n.frontmatterLinks??=[];let s=n.frontmatterLinks.find(a=>a.key===t);return s||(s={key:t,link:"",original:""},n.frontmatterLinks.push(s)),s.link=o.url,s.original=e,o.alias!==void 0&&(s.displayText=o.alias),!0}if(typeof e!="object"||e===null)return!1;let r=!1;for(let[o,s]of Object.entries(e)){let a=Sl(s,t?`${t}.${o}`:o,n);r||=a}return r}i(Sl,"_fixFrontmatterMarkdownLinks");function cp(e,t,n){if(t||n)return e;try{return decodeURIComponent(e)}catch(r){return console.error(`Failed to decode URL ${e}`,r),e}}i(cp,"decodeUrlSafely");function fp(e,t,n){return t<n?e.slice(t,n):void 0}i(fp,"extractAlias");function xl(e,t,n,r){if(t>n)return;let o=e.slice(t,n+1);Oe(o,/(?<Url>\S+)/g,(s,a)=>{qi(a)&&r.push({encodedUrl:Cl(a),endOffset:t+s.offset+a.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:a,startOffset:t+s.offset,url:a})})}i(xl,"extractTextLinks");function Tl(e,t){return t.slice(e.position?.start.offset??0,e.position?.end.offset??0)}i(Tl,"getRawLink");function dp(e,t){return e.startsWith("<")||t.startsWith("<")}i(dp,"hasAngleBracketsInLink");function pp(e,t){let o=Tl(e,t),s=e.children[0]?.position?.start.offset??1,a=e.children.at(-1)?.position?.end.offset??1,l=t.slice(a+2,(e.position?.end.offset??0)-1),u=dp(o,l),c=qi(e.url),f=cp(e.url,c,u),d=fp(t,s,a);return{alias:d,encodedUrl:c?Cl(f):void 0,endOffset:e.position?.end.offset??0,hasAngleBrackets:u,isEmbed:!1,isExternal:c,isWikilink:!1,raw:o,startOffset:e.position?.start.offset??0,title:e.title??void 0,unescapedAlias:d===void 0?void 0:up(d),url:f}}i(pp,"parseLinkNode");function hp(e,t){return{alias:t.includes(Al)?e.data.alias:void 0,endOffset:e.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Tl(e,t),startOffset:e.position?.start.offset??0,url:e.value}}i(hp,"parseWikilinkNode");var Nl=require("obsidian");var Ll=gt(Pl(),1);i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var ye=(e=>(e.AlertModal="alert-modal",e.CancelButton="cancel-button",e.CheckboxComponent="checkbox-component",e.CodeHighlighterComponent="code-highlighter-component",e.ConfirmModal="confirm-modal",e.DateComponent="date-component",e.DateTimeComponent="datetime-component",e.EmailComponent="email-component",e.FileComponent="file-component",e.IsPlaceholder="is-placeholder",e.LibraryName="obsidian-dev-utils",e.MonthComponent="month-component",e.MultipleDropdownComponent="multiple-dropdown-component",e.MultipleEmailComponent="multiple-email-component",e.MultipleFileComponent="multiple-file-component",e.MultipleTextComponent="multiple-text-component",e.NumberComponent="number-component",e.OkButton="ok-button",e.OverlayValidator="overlay-validator",e.PasswordComponent="password-component",e.PluginSettingsTab="plugin-settings-tab",e.PromptModal="prompt-modal",e.SelectItemModal="select-item-modal",e.SettingComponentWrapper="setting-component-wrapper",e.TelephoneComponent="telephone-component",e.TextBox="text-box",e.TimeComponent="time-component",e.Tooltip="tooltip",e.TooltipArrow="tooltip-arrow",e.TooltipValidator="tooltip-validator",e.TriStateCheckboxComponent="tri-state-checkbox-component",e.TypedDropdownComponent="typed-dropdown-component",e.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",e.UrlComponent="url-component",e.WeekComponent="week-component",e))(ye||{});i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Il=`${vn}-styles`;function ze(e,...t){e.addClass(ye.LibraryName,En(),...t)}i(ze,"addPluginCssClasses");function Ol(e){let t=e;t.DEBUG=Jo()}i(Ol,"initDebugController");function Rl(e,t){qo(t),Yo(t);let n=Ke(e,"lastLibraryVersion","0.0.0");(0,Ll.compareVersions)(jr,n.value)<=0||(n.value=jr,document.head.querySelector(`#${Il}`)?.remove(),document.head.createEl("style",{attr:{id:Il},text:Ho}))}i(Rl,"initPluginContext");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();async function mr(e){let n={...{abortSignal:Ue(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeBeforeShownTimeoutInMilliseconds:500,noticeMinTimeoutInMilliseconds:2e3,processItem:Fe,progressBarTitle:"",shouldContinueOnError:!0,shouldShowNotice:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...e},r=Le(1),o=n.items,s=0,a=null,l=!1;q(()=>d());let u=sleep(n.noticeMinTimeoutInMilliseconds),c=createEl("progress");ze(c,"loop"),c.max=o.length;let f=performance.now();for(let p of o){if(n.abortSignal.aborted){a?.hide();return}s++;let h=`# ${String(s)} / ${String(o.length)}`,y=n.buildNoticeMessage(p,h);n.shouldShowProgressBar||a?.setMessage(y),ve("Loop")(y);try{performance.now()-f>n.uiUpdateThresholdInMilliseconds&&(await ns(),f=performance.now()),await n.processItem(p)}catch(C){if(console.error("Error processing item",p),!n.shouldContinueOnError)throw a?.hide(),new Ce("loop failed",r,C);An(new Ce(xn,r,C))}c.value++}a&&await u,a?.hide(),l=!0;async function d(){if(!n.shouldShowNotice||(await sleep(n.noticeBeforeShownTimeoutInMilliseconds),l)||(a=new Nl.Notice("",0),!n.shouldShowProgressBar))return;let p=createFragment();p.createDiv({text:n.progressBarTitle}),p.appendChild(c),a.setMessage(p)}i(d,"showNotice")}i(mr,"loop");function Dl(e,t){let n=Object.keys(t).map(r=>mp(e,r,t[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}i(Dl,"around");function mp(e,t,n){let r=e[t],o=e.hasOwnProperty(t),s=o?r:function(){return Object.getPrototypeOf(e)[t].apply(this,arguments)},a=n(s);return r&&Object.setPrototypeOf(a,r),Object.setPrototypeOf(l,a),e[t]=l,u;function l(...c){return a===s&&e[t]===l&&u(),a.apply(this,c)}i(l,"wrapper");function u(){e[t]===l&&(o?e[t]=s:delete e[t]),a!==s&&(a=s,Object.setPrototypeOf(l,r||Function))}i(u,"remove")}i(mp,"around1");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function gp(e,t){return Dl(e,t)}i(gp,"around");function Qe(e,t,n){let r=gp(t,n),o=!1;function s(){if(!o)try{r()}finally{o=!0}}return i(s,"uninstallerWrapper"),e.register(s),r}i(Qe,"registerPatch");var wr=require("obsidian");var Ml=require("obsidian");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var gr=class extends Ml.Component{static{i(this,"AsyncEventsComponent")}registerAsyncEvent(t){yr(this,t)}};function yr(e,t){e.register(()=>{t.asyncEvents.offref(t)})}i(yr,"registerAsyncEvent");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function yp(e){let t=new Set;return e.workspace.iterateAllLeaves(n=>{t.add(n.getContainer())}),Array.from(t)}i(yp,"getAllContainers");function Bl(e){return yp(e).map(t=>t.win)}i(Bl,"getAllDomWindows");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var br=class extends wr.Plugin{static{i(this,"PluginBase")}events=new Ie;get abortSignal(){if(!this._abortSignal)throw new Error("Abort signal not defined");return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(t,...n){xt(this.manifest.id,1)(t,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),ts(this.afterLoad.bind(this))}onunload(){super.onunload(),q(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(t){let n=window;t(n),this.app.workspace.onLayoutReady(()=>{for(let r of Bl(this.app))r!==n&&t(r);this.registerEvent(this.app.workspace.on("window-open",r=>{t(r.win)}))})}registerForLifecycleEvent(t,n){q(async()=>{await this.waitForLifecycleEvent(t),await n()})}registerPopupDocumentDomEvent(t,n,r){this.registerDomWindowHandler(o=>{this.registerDomEvent(o.document,t,n,r)})}registerPopupWindowDomEvent(t,n,r){this.registerDomWindowHandler(o=>{this.registerDomEvent(o,t,n,r)})}async waitForLifecycleEvent(t){this.lifecycleEventNames.has(t)||await new Promise(n=>{this.events.once(t,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return fr}handleAsyncError(t){this.showNotice(ke(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Pe()}async onloadImpl(){Rl(this.app,this.manifest.id),this.registerDomWindowHandler(n=>{Ol(n)}),await co(this.createTranslationsMap()),this.register(jo(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(yr(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),yr(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let t=new AbortController;this._abortSignal=t.signal,this.register(()=>{t.abort(new kt(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(t,n){await Pe()}async onSaveSettings(t,n,r){await Pe()}async onunloadImpl(){await Pe()}showNotice(t){this.notice&&this.notice.hide(),this.notice=new wr.Notice(`${this.manifest.name}
${t}`)}async afterLoad(){this.abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(Fn(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(t){this.lifecycleEventNames.add(t),await this.events.triggerAsync(t)}};function zl(e){switch(e){case"alphabeticalReverse":return wp;case"byCreatedTime":return Vl;case"byCreatedTimeReverse":return kp;case"byModifiedTime":return Wl;case"byModifiedTimeReverse":return xp;default:return $l}}i(zl,"getFileComparer");var _l=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base",usage:"sort"}),bp=_l.compare.bind(_l);function $l(e,t){return bp(e.basename,t.basename)}i($l,"alphabeticalCompare");function wp(e,t){return-$l(e,t)}i(wp,"alphabeticalReverseCompare");function Vl(e,t){return t.stat.ctime-e.stat.ctime}i(Vl,"byCreatedTimeCompare");function kp(e,t){return-Vl(e,t)}i(kp,"byCreatedTimeReverseCompare");function Wl(e,t){return t.stat.mtime-e.stat.mtime}i(Wl,"byModifiedTimeCompare");function xp(e,t){return-Wl(e,t)}i(xp,"byModifiedTimeReverseCompare");var yo="file: ";function jl(e){let n=e.app.internalPlugins.getPluginById(fe.Backlink);n&&(Qe(e,qt(n.instance),{onUserEnable:i(r=>i(function(){r.call(this),Ul(e)},"onUserEnablePatched"),"onUserEnable")}),n.enabled&&Ul(e))}i(jl,"patchBacklinksCorePlugin");async function fn(e){let t=await Hl(e);t&&t.file&&t.backlink.recomputeBacklink(t.file)}i(fn,"reloadBacklinksView");async function Hl(e){let t=e.workspace.getLeavesOfType(Ct.Backlink)[0];return t?(await t.loadIfDeferred(),t.view):null}i(Hl,"getBacklinkView");function Ul(e){q(()=>Ap(e))}i(Ul,"onBacklinksCorePluginEnable");async function Ap(e){let t=e.app,n=await Hl(t);n&&Qe(e,qt(n.backlink),{recomputeBacklink:i(()=>i(function(o){q(async()=>{await vp(this,o)})},"recomputeBacklinkPatched"),"recomputeBacklink")})}i(Ap,"patchBacklinksPane");function Cp(e){let t={edges:e.edges,nodes:[]};return t.nodes=e.nodes.map(n=>n.type==="file"?{...n,text:`${yo}${n.file}`,type:"text"}:n),JSON.stringify(t)}i(Cp,"patchCanvasContent");async function vp(e,t){let n=e.app;if(e.stopBacklinkSearch(),e.backlinkCollapsed){e.backlinkCountEl.hide();return}if(e.backlinkFile=t,e.backlinkCountEl.show(),e.backlinkCountEl.setText("0"),e.backlinkDom.emptyResults(),!t)return;let r=await po(n,t);e.backlinkCountEl.setText(r.count().toString()),e.backlinkDom.changed(),e.backlinkDom.emptyResults();let o=r.keys().map(s=>n.vault.getFileByPath(s)).filter(s=>!!s);o.sort(zl(e.backlinkDom.sortOrder));for(let s of o)await Ep(e,s,r.get(s.path)??[]);e.backlinkCountEl.setText(e.backlinkDom.getMatchCount().toString()),e.backlinkDom.changed()}i(vp,"recomputeBacklinkAsync");async function Ep(e,t,n){let r=e.app,o=await r.vault.read(t);if(!e.passSearchFilter(t,o))return;let s=null;ae(r,t)&&(s=JSON.parse(o),o=Cp(s));let a={content:[],properties:[]},l=!1;for(let u of n){if(Se(u))a.content.push([u.position.start.offset,u.position.end.offset]),l=!0;else if(pe(u)){let c=u.key.split(".");a.properties.push({key:c[0]??"",pos:[u.startOffset,u.endOffset],subkey:c.slice(1).map(f=>Number.isNaN(Number(f))?f:Number(f))}),l=!0}else if(de(u)){let c=u.key.split(".");if(a.properties.push({key:c[0]??"",pos:[0,u.original.length],subkey:c.slice(1).map(f=>Number.isNaN(Number(f))?f:Number(f))}),l=!0,ae(r,t)){if(!sn(u)){console.warn("Unknown link type",{link:u});continue}let f=s?.nodes[u.nodeIndex];if(!f){console.warn("Node not found",{link:u});continue}let d=a[`canvas-${f.id}`];if(d||(d=[],a[`canvas-${f.id}`]=d),Yi(u)){if(typeof f.file!="string"){console.warn("Node file is not a string",{link:u,node:f});continue}d.push([yo.length,yo.length+f.file.length])}else if(Ja(u)){if(typeof f.text!="string"){console.warn("Node text is not a string",{link:u,node:f});continue}if(Se(u.originalReference))d.push([u.originalReference.position.start.offset,u.originalReference.position.end.offset]);else{let p=f.text.indexOf(u.originalReference.original);d.push([p,p+u.originalReference.original.length])}}else{console.warn("Unknown link type",{link:u});continue}}}l&&e.backlinkDom.addResult(t,a,o).renderContentMatches()}}i(Ep,"showBacklinks");var Ql=require("obsidian");async function Kl(e,t){let n=await mo(e,t);return e.plugins.getPlugin("frontmatter-markdown-links")&&El(n),n}i(Kl,"parseMetadataEx");function Xl(e){return!!e.internalPlugins.getEnabledPluginById(fe.Canvas)}i(Xl,"isCanvasPluginEnabled");var Bt=new Map;function Zl(e){let t=e.app;Qe(e,t.metadataCache,{getCache:i(r=>o=>Tp(t,o,r),"getCache")}),e.registerEvent(t.vault.on("create",r=>{Gl(r,e)})),e.registerEvent(t.vault.on("modify",r=>{Gl(r,e)})),e.registerEvent(t.vault.on("delete",r=>{Pp(r,e)})),e.registerEvent(t.vault.on("rename",(r,o)=>{Ip(r,o,e)}));let n=t.internalPlugins.getPluginById(fe.Canvas);n&&(Qe(e,qt(n.instance),{onUserDisable:i(()=>()=>{Jl(e)},"onUserDisable"),onUserEnable:i(()=>()=>{Yl(e)},"onUserEnable")}),n.enabled&&Yl(e),e.register(()=>{Jl(e)}))}i(Zl,"initCanvasHandlers");async function eu(e,t){if(!ae(e,t))return;let n;try{let a=await e.vault.read(t);n=JSON.parse(a)}catch{n={}}let r=n.nodes?n:{edges:[],nodes:[]},o={frontmatterLinks:[]};for(let a=0;a<r.nodes.length;a++){let l=r.nodes[a];switch(l?.type){case"file":{let u={isCanvas:!0,key:`nodes.${String(a)}.file`,link:l.file,nodeIndex:a,original:l.file,type:"file"};ql(e,o,u,t.path);break}case"text":{let u=await Kl(e,l.text),c=cn(u),f=0;for(let d of c){let p={isCanvas:!0,key:`nodes.${String(a)}.text.${String(f)}`,link:d.link,nodeIndex:a,original:d.original,originalReference:d,type:"text"};ql(e,o,p,t.path),f++}break}default:break}}Bt.set(t.path,o);let s=await Fp(e,t);e.metadataCache.saveFileCache(t.path,{hash:s,mtime:t.stat.mtime,size:t.stat.size}),e.metadataCache.saveMetaCache(s,o)}i(eu,"initCanvasMetadataCache");function ql(e,t,n,r){t.frontmatterLinks?.push(n);let o=go(n.link).linkPath,a=e.metadataCache.getFirstLinkpathDest(o,r)?e.metadataCache.resolvedLinks:e.metadataCache.unresolvedLinks;a[r]??={};let l=a[r]??{};l[o]??=0,l[o]++}i(ql,"addCanvasMetadata");function Sp(e){let t=new Uint8Array(e),n=[];for(let r of t)n.push((r>>>4).toString(16)),n.push((r&15).toString(16));return n.join("")}i(Sp,"arrayBufferToHexString");function Tp(e,t,n){return ae(e,t)?Bt.get(t)??null:n.call(e.metadataCache,t)}i(Tp,"getCache");async function Fp(e,t){let n=await e.vault.readBinary(t),r=await crypto.subtle.digest("SHA-256",new Uint8Array(n));return Sp(r)}i(Fp,"getFileHash");function Gl(e,t){!ae(t.app,e)||!(e instanceof Ql.TFile)||q(async()=>{await eu(t.app,e),t.triggerRefresh(e.path)})}i(Gl,"handleFileCreateOrModify");function Pp(e,t){ae(t.app,e)&&Bt.delete(e.path)}i(Pp,"handleFileDelete");function Ip(e,t,n){if(!ae(n.app,e))return;let r=Bt.get(t);r&&Bt.set(e.path,r),Bt.delete(t)}i(Ip,"handleFileRename");function Jl(e){Op(e),q(async()=>{await fn(e.app)})}i(Jl,"onCanvasCorePluginDisable");function Yl(e){q(async()=>{await Lp(e),await fn(e.app)})}i(Yl,"onCanvasCorePluginEnable");async function Lp(e){await mr({abortSignal:e.abortSignal,buildNoticeMessage:i((t,n)=>`Processing backlinks ${n} - ${t.path}`,"buildNoticeMessage"),items:e.app.vault.getFiles().filter(t=>ae(e.app,t)),processItem:i(async t=>{await eu(e.app,t),e.triggerRefresh(t.path)},"processItem"),progressBarTitle:"Backlink Cache: Processing canvas files...",shouldContinueOnError:!0,shouldShowNotice:e.settings.shouldShowProgressBarOnLoad})}i(Lp,"processAllCanvasFiles");function Op(e){let t=e.app,n=t.vault.getFiles().filter(r=>ae(t,r));for(let r of n){if(e.abortSignal.aborted)return;t.metadataCache.deletePath(r.path),e.triggerRemove(r.path)}}i(Op,"removeCanvasMetadataCache");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Xe=class{static{i(this,"Transformer")}getTransformer(t){if(t===this.id)return this;throw new Error(`Transformer with id ${t} not found`)}transformObjectRecursively(t){return this.transformValueRecursively(t,"")}getTransformerId(t,n){return this.canTransform(t,n)?this.id:null}transformValueRecursively(t,n){let r=this.getTransformerId(t,n);if(r){let a=this.transformValue(t,n);return a===void 0?void 0:{__transformerId:r,transformedValue:a}}if(t===null)return null;if(typeof t!="object")return t;if(Array.isArray(t))return t.map((a,l)=>this.transformValueRecursively(a,String(l)));let o=t;if(o.__transformerId)return this.getTransformer(o.__transformerId).restoreValue(o.transformedValue,n);let s={};for(let a of At(t)){let l=t[a],u=this.transformValueRecursively(l,a);s[a]=u}return s}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var xe=class extends Xe{static{i(this,"TypedTransformer")}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var kr=class extends xe{static{i(this,"DateTransformer")}get id(){return"date"}canTransform(t){return t instanceof Date}restoreValue(t){return new Date(t)}transformValue(t){return t.toISOString()}};var tu=require("obsidian");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var xr=class extends xe{static{i(this,"DurationTransformer")}get id(){return"duration"}canTransform(t){let n=t??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(t){return tu.moment.duration(t)}transformValue(t){return t.toISOString()}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Ar=class extends Xe{static{i(this,"GroupTransformer")}constructor(t){super(),this.transformers=t}get id(){return"group"}canTransform(t,n){return this.getFirstTransformerThatCanTransform(t,n)!==null}getTransformer(t){return this.transformers.find(n=>n.id===t)??Wt(`No transformer with id ${t} found`)}transformValue(t,n){let r=this.getFirstTransformerThatCanTransform(t,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(t,n)}getTransformerId(t,n){let r=this.getFirstTransformerThatCanTransform(t,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(t,n){return this.transformers.find(r=>r.canTransform(t,n))??null}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Cr=class extends xe{static{i(this,"MapTransformer")}get id(){return"map"}canTransform(t){return t instanceof Map}restoreValue(t){return new Map(t)}transformValue(t){return Array.from(t.entries())}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var vr=class extends xe{static{i(this,"SetTransformer")}get id(){return"set"}canTransform(t){return t instanceof Set}restoreValue(t){return new Set(t)}transformValue(t){return Array.from(t)}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Rp="_",Er=class extends Xe{static{i(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(t,n){return n.startsWith(Rp)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var dn=class{static{i(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(t=[]){for(let[n,r]of t)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(t){let n=this.getValue(t);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(t)}deleteValue(t){let n=this.getKey(t);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(t)}entries(){return this.keyValueMap.entries()}getKey(t){return this.valueKeyMap.get(t)}getValue(t){return this.keyValueMap.get(t)}hasKey(t){return this.keyValueMap.has(t)}hasValue(t){return this.valueKeyMap.has(t)}keys(){return this.keyValueMap.keys()}set(t,n){this.deleteKey(t),this.deleteValue(n),this.keyValueMap.set(t,n),this.valueKeyMap.set(n,t)}values(){return this.valueKeyMap.keys()}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Sr=class extends xe{static{i(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(t){return t instanceof dn}restoreValue(t){return new dn(t)}transformValue(t){return Array.from(t.entries())}};i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Np=new Ar([new Er,new kr,new xr,new Cr,new vr,new Sr]),Tr=class extends Ie{static{i(this,"PluginSettingsManagerBase")}constructor(t){super(),this.plugin=t,this.app=t.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=At(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(t,n){await this.edit(t),await this.saveToFile(n)}async ensureSafe(t){let n=await this.validate(t);for(let r of this.propertyNames)n[r]&&(t[r]=this.defaultSettings[r])}async getSafeCopy(t){let n=await this.cloneSettings(t);return await this.ensureSafe(n),n}async loadFromFile(t){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,o=await this.rawRecordToSettings(r),s=await this.validate(o);for(let l of this.propertyNames)this.setPropertyImpl(l,o[l],s[l]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let a=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);Ee(a,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,t)}}on(t,n,r){return super.on(t,n,r)}async revalidate(){return await this.edit(Fe),this.currentSettingsWrapper.validationMessages}async saveToFile(t){Ee(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,t),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(t,n){return await this.edit(r=>{r[t]=n}),this.currentSettingsWrapper.validationMessages[t]}async validate(t){let n={};for(let[r,o]of this.validators.entries()){let s=await o(t[r],t);s&&(n[r]=s)}return n}getTransformer(){return Np}async onLoadRecord(t){for(let n of this.legacySettingsConverters)n(t);await Promise.resolve()}async onSavingRecord(t){await Pe()}registerLegacySettingsConverter(t,n){let r=this;this.legacySettingsConverters.push(o);function o(s){let a=new Set(Object.keys(new t)),l=new Set(r.propertyNames),u=s;n(u);for(let c of Object.keys(u))l.has(c)||a.has(c)&&delete s[c]}i(o,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(t,n){this.validators.set(t,n)}registerValidators(){}async cloneSettings(t){let n=await this.settingsToRawRecord(t),r=JSON.stringify(n),o=JSON.parse(r);return await this.rawRecordToSettings(o)}async cloneSettingsWrapper(t){return{safeSettings:await this.cloneSettings(t.safeSettings),settings:await this.cloneSettings(t.settings),validationMessages:{...t.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(t){try{await t(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let o=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=o,this.currentSettingsWrapper.safeSettings[r]=o?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(t){return typeof t!="string"?!1:this.propertyNames.includes(t)}async rawRecordToSettings(t){t=this.getTransformer().transformObjectRecursively(t),await this.onLoadRecord(t);let n=this.createDefaultSettings();for(let[r,o]of Object.entries(t)){if(!this.isValidPropertyName(r)){ve("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${r}`);continue}typeof o!=typeof this.defaultSettings[r]&&ve("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:o}),n[r]=o}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(t,n,r){this.currentSettingsWrapper.settings[t]=n,this.currentSettingsWrapper.validationMessages[t]=r??"",this.currentSettingsWrapper.safeSettings[t]=r?this.defaultSettings[t]:n}async settingsToRawRecord(t){let n={};for(let r of this.propertyNames)n[r]=t[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Fr=class{static{i(this,"PluginSettings")}shouldAutomaticallyRefreshBacklinkPanels=!1;shouldShowProgressBarOnLoad=!0};var Pr=class extends Tr{static{i(this,"PluginSettingsManager")}createDefaultSettings(){return new Fr}};var ko=require("obsidian");var dt=require("obsidian");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function Ir(e){let t=e.parentElement;if(!t)throw new Error("Element must be attached to the DOM");if(t.classList.contains(ye.SettingComponentWrapper))return t;let n=Array.from(t.children),r=createDiv();ze(r,ye.SettingComponentWrapper);for(let o of n)r.appendChild(o);return t.appendChild(r),r}i(Ir,"ensureWrapped");var nu=require("obsidian");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var bo=class{static{i(this,"AbstractTextComponentWrapper")}constructor(t){this.abstractTextComponent=t}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(t){return this.abstractTextComponent.setPlaceholder(t),this}};function ru(e){return Dp(e)?e:e instanceof nu.AbstractTextComponent?new bo(e):null}i(ru,"getTextBasedComponentValue");function Dp(e){let t=e;return typeof t.setPlaceholderValue=="function"&&typeof t.isEmpty=="function"}i(Dp,"isTextBasedComponent");var oe=require("obsidian");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var Lr=class{static{i(this,"OverlayValidatorComponent")}constructor(t){this.el=t;let n=Ir(t);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),ze(this._validatorEl,ye.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},Ze=class{static{i(this,"ValidatorElementWrapper")}constructor(t){this.validatorEl=t}};function iu(e){return Mp(e)?e:e instanceof oe.ColorComponent?new Ze(e.colorPickerEl):e instanceof oe.DropdownComponent?new Ze(e.selectEl):e instanceof oe.ProgressBarComponent?new Lr(e.progressBar):e instanceof oe.SearchComponent?new Ze(e.inputEl):e instanceof oe.SliderComponent?new Ze(e.sliderEl):e instanceof oe.TextAreaComponent?new Ze(e.inputEl):e instanceof oe.TextComponent?new Ze(e.inputEl):e instanceof oe.ToggleComponent?new Lr(e.toggleEl):null}i(iu,"getValidatorComponent");function Mp(e){return!!e.validatorEl}i(Mp,"isValidatorComponent");var Bp=require("obsidian");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();function ou(e){return e.validationMessage!==void 0}i(ou,"isValidationMessageHolder");i((function(){if(globalThis.process)return;let t={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=t}),"initEsm")();var wo="PluginSettingsTab",Or=class extends dt.PluginSettingTab{static{i(this,"PluginSettingsTabBase")}constructor(t){super(t.app,t),this.plugin=t,ze(this.containerEl,ye.PluginSettingsTab),this.saveSettingsDebounced=(0,dt.debounce)(Fn(()=>this.plugin.settingsManager.saveToFile(wo)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new gr,this.asyncEvents=new Ie}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(t,n,r){let s={...{componentToPluginSettingsValueConverter:i(S=>S,"componentToPluginSettingsValueConverter"),onChanged:Fe,pluginSettingsToComponentValueConverter:i(S=>S,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},a=iu(t)?.validatorEl,l=ru(t),u=this.pluginSettings[n],c=this.plugin.settingsManager.defaultSettings[n],f=s.pluginSettingsToComponentValueConverter(c);l?.setPlaceholderValue(f);let d,p=null,h=null;if(a){let S=Ir(a);p=S.createDiv(),ze(p,ye.Tooltip,ye.TooltipValidator),h=p.createSpan();let P=p.createDiv();ze(P,ye.TooltipArrow),p.hide(),S.appendChild(p)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(S,P)=>{n===S&&(d=P,k())}));let y=!1,C=!1;l&&s.shouldShowPlaceholderForDefaultValues&&Ee(u,c)?l.empty():t.setValue(s.pluginSettingsToComponentValueConverter(u));let x=!1,k=(0,dt.debounce)(()=>{requestAnimationFrame(()=>{v()})},100);return t.onChange(async S=>{if(x){x=!1;return}y=!1;let P=this.pluginSettings[n],w,B=!0;if(C=!!l?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty,C)w=c;else{let W=s.componentToPluginSettingsValueConverter(S);ou(W)?(d=W.validationMessage,B=!1):w=W}B&&(d=await this.plugin.settingsManager.setProperty(n,w),l&&s.shouldShowPlaceholderForDefaultValues&&!l.isEmpty()&&Ee(w,c)&&(y=!0)),k(),B&&await s.onChanged(w,P),this.saveSettingsDebounced()}),a?.addEventListener("focus",()=>{k()}),a?.addEventListener("blur",()=>{k()}),a?.addEventListener("click",()=>{requestAnimationFrame(()=>{k()})}),d=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",k(),t;function v(){a?.isActiveElement()||(y?(y=!1,l?.isEmpty()||(x=!0,l?.empty())):C&&(C=!1,l?.isEmpty()&&(x=!0,t.setValue(f)))),a&&(d===""&&(a.setCustomValidity(""),a.checkValidity(),d=a.validationMessage),a.setCustomValidity(d),s.shouldShowValidationMessage?(h&&(h.textContent=d),p?.toggle(!!d)):d&&(0,dt.setTooltip)(a,d))}i(v,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),q(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(wo)}show(){this.app.setting.openTab(this)}async onLoadSettings(t,n){this.display(),await Pe()}async revalidate(){let t=await this.plugin.settingsManager.revalidate();await this.updateValidations(t)}on(t,n,r){return this.asyncEvents.on(t,n,r)}async onSaveSettings(t,n,r){if(r===wo){await this.updateValidations(t.validationMessages);return}this.display()}async updateValidations(t){for(let[n,r]of Object.entries(t))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Rr=class extends Or{static{i(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty(),new ko.Setting(this.containerEl).setName("Should automatically refresh backlink panels").setDesc("Whether to refresh the backlink panels automatically when a note is saved.").addToggle(t=>{this.bind(t,"shouldAutomaticallyRefreshBacklinkPanels")}),new ko.Setting(this.containerEl).setName("Should show progress bar on load").setDesc("Whether to show progress bar on load.").addToggle(t=>{this.bind(t,"shouldShowProgressBarOnLoad")})}};var _p=500;var Nr=class extends br{static{i(this,"Plugin")}backlinksMap=new Map;debouncedProcessPendingActions;linksMap=new Map;pendingActions=new Map;triggerRefresh(t){this.setPendingAction(t,0)}triggerRemove(t){this.setPendingAction(t,1)}createSettingsManager(){return new Pr(this)}createSettingsTab(){return new Rr(this)}async onLayoutReady(){Qe(this,this.app.metadataCache,{getBacklinksForFile:i(t=>Object.assign(this.getBacklinksForFile.bind(this),{originalFn:t,safe:this.getBacklinksForFileSafe.bind(this)}),"getBacklinksForFile")}),this.debouncedProcessPendingActions=(0,pt.debounce)(this.processPendingActions.bind(this),_p,!0),jl(this),Zl(this),await this.processAllNotes(),this.registerEvent(this.app.vault.on("rename",this.handleFileRename.bind(this))),this.registerEvent(this.app.vault.on("delete",this.handleFileDelete.bind(this))),this.registerEvent(this.app.vault.on("create",this.handleFileCreate.bind(this))),this.registerEvent(this.app.vault.on("modify",this.handleFileModify.bind(this))),this.registerEvent(this.app.metadataCache.on("changed",this.handleMetadataChanged.bind(this)))}getBacklinksForFile(t){let n=this.backlinksMap.get(Me(this.app,t))??new Map,r=new Pn;for(let[o,s]of n.entries()){this.abortSignal.throwIfAborted();for(let a of rr(Array.from(s)))this.abortSignal.throwIfAborted(),r.add(o,a)}return q(this.processPendingActions.bind(this)),r}async getBacklinksForFileSafe(t){return await this.processPendingActions(),this.getBacklinksForFile(t)}handleFileCreate(t){t instanceof pt.TFile&&this.setPendingAction(t.path,0)}handleFileDelete(t){this.setPendingAction(t.path,1)}handleFileModify(t){t instanceof pt.TFile&&this.setPendingAction(t.path,0)}handleFileRename(t,n){this.setPendingAction(n,1),this.setPendingAction(t.path,0)}handleMetadataChanged(t){this.setPendingAction(t.path,0)}async processAllNotes(){await mr({abortSignal:this.abortSignal,buildNoticeMessage:i((t,n)=>`Processing backlinks ${n} - ${t.path}`,"buildNoticeMessage"),items:gl(this.app),processItem:i(async t=>{await this.refreshBacklinks(t.path)},"processItem"),progressBarTitle:"Backlink Cache: Initializing...",shouldContinueOnError:!0,shouldShowNotice:this.settings.shouldShowProgressBarOnLoad})}async processPendingActions(){let t=Array.from(this.pendingActions.entries());this.pendingActions.clear();for(let[n,r]of t){if(this.abortSignal.aborted)return;switch(r){case 0:await this.refreshBacklinks(n);break;case 1:this.removeBacklinks(n);break;default:throw new Error("Unknown action")}}t.length>0&&await this.refreshBacklinkPanels()}async refreshBacklinkPanels(){if(this.settings.shouldAutomaticallyRefreshBacklinkPanels){await fn(this.app);for(let t of this.app.workspace.getLeavesOfType(Ct.Markdown)){if(this.abortSignal.aborted)return;t.view instanceof pt.MarkdownView&&t.view.backlinks&&t.view.backlinks.recomputeBacklink(t.view.backlinks.file)}}}async refreshBacklinks(t){this.consoleDebug(`Refreshing backlinks for ${t}`),this.removeLinkedPathEntries(t);let n=De(this.app,t);if(!n||ae(this.app,n)&&!Xl(this.app))return;this.linksMap.has(t)||this.linksMap.set(t,new Set);let r=await ho(this.app,n);if(r)for(let o of cn(r)){if(this.abortSignal.aborted)return;let s=vl(this.app,o,t,!0);if(!s)continue;let a=this.backlinksMap.get(s.path);a||(a=new Map,this.backlinksMap.set(s.path,a));let l=a.get(t);l||(l=new Set,a.set(t,l)),l.add(o),this.linksMap.get(t)?.add(s.path)}}removeBacklinks(t){this.consoleDebug(`Removing backlinks for ${t}`),this.removePathEntries(t)}removeLinkedPathEntries(t){let n=this.linksMap.get(t)??[];for(let r of n){if(this.abortSignal.aborted)return;this.backlinksMap.get(r)?.delete(t)}this.linksMap.delete(t)}removePathEntries(t){this.consoleDebug(`Removing ${t} entries`),this.backlinksMap.delete(t),this.removeLinkedPathEntries(t)}setPendingAction(t,n){this.pendingActions.set(t,n),this.debouncedProcessPendingActions?.()}};var zp=Nr;

/* nosourcemap */